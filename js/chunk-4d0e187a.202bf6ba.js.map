{"version":3,"sources":["webpack:///./src/views/DomainManagement.vue?59c3","webpack:///./src/views/DomainManagement.vue","webpack:///src/views/DomainManagement.vue","webpack:///./src/views/DomainManagement.vue?1f5d","webpack:///./src/views/DomainManagement.vue?5b89"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","nativeOn","$event","preventDefault","handleAddDomain","apply","arguments","model","value","newDomain","callback","$$v","expression","on","staticStyle","domains","scopedSlots","_u","key","fn","scope","handleDeleteDomain","row","staticRenderFns","name","data","computed","mapState","useDomainStore","created","fetchDomains","methods","mapActions","trim","addDomain","$message","success","error","response","status","domain","$confirm","confirmButtonText","cancelButtonText","type","then","deleteDomain","_id","catch","component"],"mappings":"yIAAA,W,yCCAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,UAAU,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,KAAO,UAAUC,KAAK,UAAU,CAACJ,EAAG,OAAO,CAACF,EAAIO,GAAG,YAAYL,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,UAAU,CAACG,MAAM,CAAC,QAAS,GAAMG,SAAS,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBV,EAAIW,gBAAgBC,MAAM,KAAMC,cAAc,CAACX,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,SAAS,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,YAAc,SAASS,MAAM,CAACC,MAAOf,EAAIgB,UAAWC,SAAS,SAAUC,GAAMlB,EAAIgB,UAAUE,GAAKC,WAAW,gBAAgB,GAAGjB,EAAG,eAAe,CAACA,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,WAAWe,GAAG,CAAC,MAAQpB,EAAIW,kBAAkB,CAACX,EAAIO,GAAG,SAAS,IAAI,GAAGL,EAAG,WAAW,CAACmB,YAAY,CAAC,MAAQ,QAAQhB,MAAM,CAAC,KAAOL,EAAIsB,UAAU,CAACpB,EAAG,kBAAkB,CAACG,MAAM,CAAC,KAAO,OAAO,MAAQ,QAAQH,EAAG,kBAAkB,CAACG,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAOkB,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASC,GAAO,MAAO,CAACzB,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,QAAQe,GAAG,CAAC,MAAQ,SAASX,GAAQ,OAAOT,EAAI4B,mBAAmBD,EAAME,QAAQ,CAAC7B,EAAIO,GAAG,gBAAgB,IAAI,MAAM,IAEppCuB,EAAkB,G,wBC8BP,GACfC,KAAA,mBACAC,OACA,OACAhB,UAAA,KAGAiB,SAAA,IACAC,eAAAC,OAAA,cAEAC,UACA,KAAAC,gBAEAC,QAAA,IACAC,eAAAJ,OAAA,6CACA,wBACA,QAAAnB,UAAAwB,OAIA,UACA,KAAAC,UAAA,KAAAzB,UAAAwB,QACA,KAAAE,SAAAC,QAAA,UACA,KAAA3B,UAAA,GACA,MAAA4B,GACAA,EAAAC,UAAA,MAAAD,EAAAC,SAAAC,OACA,KAAAJ,SAAAE,MAAA,SAEA,KAAAF,SAAAE,MAAA,eAXA,KAAAF,SAAAE,MAAA,WAeA,yBAAAG,GACA,KAAAC,SAAA,YAAAD,EAAAhB,WAAA,MACAkB,kBAAA,KACAC,iBAAA,KACAC,KAAA,YACAC,KAAA,gBACA,KAAAC,aAAAN,EAAAO,KACA,KAAAZ,SAAAC,QAAA,UACAY,MAAA,WCxEyV,I,wBCQrVC,EAAY,eACd,EACAzD,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAA0B,E","file":"js/chunk-4d0e187a.202bf6ba.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainManagement.vue?vue&type=style&index=0&id=412b702a&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"domain-management-container\"},[_c('el-card',{staticClass:\"box-card\"},[_c('div',{staticClass:\"clearfix\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('span',[_vm._v(\"域名管理\")])]),_c('div',{staticClass:\"domain-content\"},[_c('el-form',{attrs:{\"inline\":true},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.handleAddDomain.apply(null, arguments)}}},[_c('el-form-item',{attrs:{\"label\":\"添加域名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入域名\"},model:{value:(_vm.newDomain),callback:function ($$v) {_vm.newDomain=$$v},expression:\"newDomain\"}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleAddDomain}},[_vm._v(\"添加\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.domains}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"域名\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.handleDeleteDomain(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"domain-management-container\">\n    <el-card class=\"box-card\">\n      <div slot=\"header\" class=\"clearfix\">\n        <span>域名管理</span>\n      </div>\n      <div class=\"domain-content\">\n        <el-form :inline=\"true\" @submit.native.prevent=\"handleAddDomain\">\n          <el-form-item label=\"添加域名\">\n            <el-input v-model=\"newDomain\" placeholder=\"请输入域名\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"handleAddDomain\">添加</el-button>\n          </el-form-item>\n        </el-form>\n        <el-table :data=\"domains\" style=\"width: 100%\">\n          <el-table-column prop=\"name\" label=\"域名\"></el-table-column>\n          <el-table-column label=\"操作\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"danger\" size=\"mini\" @click=\"handleDeleteDomain(scope.row)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'pinia';\nimport { useDomainStore } from '../store/domain';\n\nexport default {\n  name: 'DomainManagement',\n  data() {\n    return {\n      newDomain: '',\n    };\n  },\n  computed: {\n    ...mapState(useDomainStore, ['domains']),\n  },\n  created() {\n    this.fetchDomains();\n  },\n  methods: {\n    ...mapActions(useDomainStore, ['fetchDomains', 'addDomain', 'deleteDomain']),\n    async handleAddDomain() {\n      if (!this.newDomain.trim()) {\n        this.$message.error('域名不能为空');\n        return;\n      }\n      try {\n        await this.addDomain(this.newDomain.trim());\n        this.$message.success('域名添加成功');\n        this.newDomain = '';\n      } catch (error) {\n        if (error.response && error.response.status === 409) {\n          this.$message.error('域名已存在');\n        } else {\n          this.$message.error('添加域名失败');\n        }\n      }\n    },\n    async handleDeleteDomain(domain) {\n      this.$confirm(`确定要删除域名 \"${domain.name}\" 吗?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n      }).then(async () => {\n        await this.deleteDomain(domain._id);\n        this.$message.success('删除成功');\n      }).catch(() => {\n        // Canceled\n      });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.domain-management-container {\n  padding: 20px;\n}\n.box-card {\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainManagement.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DomainManagement.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DomainManagement.vue?vue&type=template&id=412b702a&scoped=true\"\nimport script from \"./DomainManagement.vue?vue&type=script&lang=js\"\nexport * from \"./DomainManagement.vue?vue&type=script&lang=js\"\nimport style0 from \"./DomainManagement.vue?vue&type=style&index=0&id=412b702a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"412b702a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}