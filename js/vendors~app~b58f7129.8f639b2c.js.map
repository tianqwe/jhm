{"version":3,"sources":["webpack:///./node_modules/throttle-debounce/debounce.js","webpack:///./node_modules/nprogress/nprogress.js","webpack:///./node_modules/throttle-debounce/throttle.js","webpack:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///./node_modules/normalize-wheel/src/isEventSupported.js","webpack:///./node_modules/normalize-wheel/src/UserAgent_DEPRECATED.js","webpack:///./node_modules/throttle-debounce/index.js","webpack:///./node_modules/normalize-wheel/src/ExecutionEnvironment.js","webpack:///./node_modules/pinia/dist/pinia.mjs","webpack:///./node_modules/normalize-wheel/index.js","webpack:///./node_modules/normalize-wheel/src/normalizeWheel.js","webpack:///./node_modules/socket.io-client/build/esm/url.js","webpack:///./node_modules/socket.io-parser/build/esm/is-binary.js","webpack:///./node_modules/socket.io-parser/build/esm/binary.js","webpack:///./node_modules/socket.io-parser/build/esm/index.js","webpack:///./node_modules/socket.io-client/build/esm/on.js","webpack:///./node_modules/socket.io-client/build/esm/socket.js","webpack:///./node_modules/socket.io-client/build/esm/contrib/backo2.js","webpack:///./node_modules/socket.io-client/build/esm/manager.js","webpack:///./node_modules/socket.io-client/build/esm/index.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/vue-demi/lib/index.cjs"],"names":["throttle","module","exports","delay","atBegin","callback","undefined","root","factory","this","NProgress","Settings","settings","minimum","easing","positionUsing","speed","trickle","trickleRate","trickleSpeed","showSpinner","barSelector","spinnerSelector","parent","template","clamp","n","min","max","toBarPerc","barPositionCSS","ease","barCSS","transform","transition","configure","options","key","value","hasOwnProperty","status","set","started","isStarted","progress","render","bar","querySelector","offsetWidth","queue","next","getPositioningCSS","css","opacity","setTimeout","remove","start","work","done","force","inc","Math","random","amount","initial","current","promise","$promise","state","always","fromStart","isRendered","document","getElementById","addClass","documentElement","createElement","id","innerHTML","spinner","perc","removeElement","body","appendChild","removeClass","bodyStyle","style","vendorPrefix","pending","fn","shift","push","length","cssPrefixes","cssProps","camelCase","string","replace","match","letter","toUpperCase","getVendorProp","name","vendorName","i","capName","charAt","slice","getStyleProp","applyCss","element","prop","properties","args","arguments","hasClass","list","classList","indexOf","oldList","newList","className","substring","parentNode","removeChild","noTrailing","debounceMode","timeoutID","lastExec","wrapper","self","elapsed","Number","Date","exec","apply","clear","clearTimeout","MapShim","Map","getIndex","arr","result","some","entry","index","class_1","__entries__","Object","defineProperty","prototype","get","enumerable","configurable","delete","entries","splice","has","forEach","ctx","_i","_a","call","isBrowser","window","global$1","global","Function","requestAnimationFrame$1","requestAnimationFrame","bind","now","trailingTimeout","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","observer","connect_","removeObserver","observers","disconnect_","changesDetected","updateObservers_","activeObservers","filter","gatherActive","hasActive","broadcastActive","addEventListener","observe","attributes","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","isReflowProperty","getInstance","instance_","defineConfigurable","target","props","keys","writable","getWindowOf","ownerGlobal","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","reduce","size","position","getPaddings","paddings","positions_1","getSVGContentRect","bbox","getBBox","width","height","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","horizPad","left","right","vertPad","top","bottom","boxSizing","round","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getContentRect","createReadOnlyRect","x","y","Constr","DOMRectReadOnly","rect","create","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","TypeError","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","_this","observation","map","WeakMap","ResizeObserver","method","useHasFeature","ExecutionEnvironment","isEventSupported","eventNameSuffix","capture","canUseDOM","eventName","isSupported","setAttribute","implementation","hasFeature","_ie","_firefox","_opera","_webkit","_chrome","_ie_real_version","_osx","_windows","_linux","_android","_win64","_iphone","_ipad","_native","_mobile","_populated","_populate","uas","navigator","userAgent","agent","os","NaN","documentMode","trident","ver","UserAgent_DEPRECATED","ie","ieCompatibilityMode","ie64","firefox","opera","webkit","safari","chrome","windows","osx","linux","iphone","mobile","nativeApp","android","ipad","debounce","canUseWorkers","Worker","canUseEventListeners","attachEvent","canUseViewport","screen","isInWorker","activePinia","setActivePinia","pinia","piniaSymbol","Symbol","isPlainObject","o","toString","toJSON","MutationType","IS_CLIENT","_global","globalThis","HTMLElement","bom","blob","autoBom","test","type","Blob","String","fromCharCode","download","url","opts","xhr","XMLHttpRequest","open","responseType","onload","saveAs","response","onerror","console","error","send","corsEnabled","e","click","node","dispatchEvent","MouseEvent","evt","createEvent","initMouseEvent","_navigator","isMacOSWebView","HTMLAnchorElement","downloadSaveAs","msSaveAs","fileSaverSaveAs","a","rel","href","origin","location","URL","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","popup","title","innerText","isSafari","isChromeIOS","FileReader","reader","onloadend","Error","assign","readAsDataURL","toastMessage","message","piniaMessage","__VUE_DEVTOOLS_TOAST__","warn","log","isPinia","checkClipboardAccess","checkNotFocusedError","toLowerCase","includes","async","actionGlobalCopyState","clipboard","writeText","JSON","stringify","actionGlobalPasteState","loadStoresState","parse","readText","actionGlobalSaveState","fileInput","getFileOpener","openFile","Promise","resolve","reject","onchange","files","file","item","text","oncancel","accept","actionGlobalOpenStateFile","storeState","formatDisplay","display","_custom","PINIA_ROOT_LABEL","PINIA_ROOT_ID","formatStoreForInspectorTree","store","label","$id","formatStoreForInspectorState","storeNames","Array","from","_s","storeMap","storeId","editable","getters","_getters","$state","getterName","_customProperties","customProperties","formatEventData","events","isArray","data","event","operations","oldValue","newValue","operation","formatMutationType","direct","patchFunction","patchObject","isTimelineActive","componentStateTypes","MUTATIONS_LAYER_ID","INSPECTOR_ID","assign$1","getStoreType","registerPiniaDevtools","app","logo","packageName","homepage","api","addTimelineLayer","color","addInspector","icon","treeFilterPlaceholder","actions","action","tooltip","sendInspectorTree","sendInspectorState","nodeActions","nodeId","$reset","on","inspectComponent","payload","componentInstance","_pStores","piniaStores","values","instanceData","_isOptionsAPI","getInspectorTree","inspectorId","stores","concat","rootNodes","$pinia","getInspectorState","inspectedStore","$store","editInspectorState","path","unshift","editComponentState","startsWith","addStoreToDevtools","logStoreChanges","defaultValue","$onAction","after","onError","groupId","runningActionId","addTimelineEvent","layerId","time","subtitle","activeAction","logType","notifyComponentUpdate","deep","$subscribe","eventData","detached","flush","hotUpdate","_hotUpdate","newStore","info","$dispose","getSettings","patchActionForGrouping","actionNames","wrapWithProxy","storeActions","actionName","_actionId","trackedStore","Proxy","Reflect","retValue","devtoolsPlugin","_p","_testing","originalHotUpdate","_hmrPayload","createPinia","scope","run","toBeInstalled","provide","config","globalProperties","__VUE_PROD_DEVTOOLS__","plugin","_e","use","noop","addSubscription","subscriptions","onCleanup","removeSubscription","idx","triggerSubscriptions","fallbackRunWithContext","ACTION_MARKER","ACTION_NAME","mergeReactiveObjects","patchToApply","Set","add","subPatch","targetValue","skipHydrateSymbol","shouldHydrate","obj","isComputed","effect","createOptionsStore","hot","initialState","setup","localState","computedGetters","_r","createSetupStore","isOptionsStore","optionsForPlugin","$subscribeOptions","isListening","isSyncListening","debuggerEvents","actionSubscriptions","hotState","activeListener","$patch","partialStateOrMutator","subscriptionMutation","myListenerId","then","newState","stop","wrappedAction","afterCallbackList","onErrorCallbackList","ret","catch","partialStore","stopWatcher","runWithContext","setupStore","actionValue","nonEnumerable","p","extender","extensions","hydrate","defineStore","idOrOptions","setupOptions","isSetupStore","useStore","hasContext","mapState","keysOrMapper","reduced","storeKey","mapActions","PiniaVuePlugin","_Vue","mixin","$options","_provided","provideCache","v","PIXEL_STEP","LINE_HEIGHT","PAGE_HEIGHT","normalizeWheel","sX","sY","pX","pY","detail","wheelDelta","wheelDeltaY","wheelDeltaX","axis","HORIZONTAL_AXIS","deltaY","deltaX","deltaMode","spinX","spinY","pixelX","pixelY","getEventType","uri","loc","protocol","host","port","ipv6","withNativeArrayBuffer","ArrayBuffer","isView","buffer","withNativeBlob","withNativeFile","File","isBinary","hasBinary","l","deconstructPacket","packet","buffers","packetData","pack","_deconstructPacket","attachments","placeholder","_placeholder","num","newData","reconstructPacket","_reconstructPacket","isIndexValid","RESERVED_EVENTS","PacketType","replacer","EVENT","ACK","encodeAsString","encodeAsBinary","BINARY_EVENT","BINARY_ACK","nsp","str","deconstruction","isObject","reviver","super","reconstructor","decodeString","isBinaryEvent","emitReserved","base64","takeBinaryData","buf","c","tryParse","substr","isPayloadValid","CONNECT","DISCONNECT","CONNECT_ERROR","finishedReconstruction","reconPack","binData","ev","off","freeze","connect","connect_error","disconnecting","newListener","removeListener","io","connected","recovered","receiveBuffer","sendBuffer","_queue","_queueSeq","ids","acks","flags","auth","_opts","_autoConnect","subs","onopen","onpacket","onclose","subEvents","_readyState","emit","_c","retries","fromQueue","volatile","_addToQueue","compress","ack","pop","_registerAckCallback","isTransportWritable","engine","transport","isConnected","_hasPingExpired","discardPacket","notifyOutgoingListeners","timeout","ackTimeout","timer","setTimeoutFn","clearTimeoutFn","withError","arg1","arg2","tryCount","err","responseArgs","hasError","_drainQueue","_packet","_sendConnectPacket","_pid","pid","offset","_lastOffset","reason","description","_clearAcks","isBuffered","sameNamespace","sid","onconnect","onevent","onack","ondisconnect","destroy","emitEvent","_anyListeners","listeners","listener","sent","emitBuffered","subDestroy","_anyOutgoingListeners","Backoff","ms","factor","jitter","attempts","duration","pow","rand","deviation","floor","reset","setMin","setMax","setJitter","nsps","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","_parser","parser","encoder","Encoder","decoder","Decoder","autoConnect","_reconnection","skipReconnect","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","_reconnecting","reconnect","socket","openSubDestroy","cleanup","maybeReconnectOnOpen","errorSub","close","autoUnref","unref","onping","ondata","ondecoded","active","_close","encodedPackets","encode","write","onreconnect","attempt","cache","lookup","parsed","source","newConnection","forceNew","multiplex","query","queryKey","Manager","Socket","normalizeArray","parts","allowAboveRoot","up","last","basename","end","matchedSlash","charCodeAt","xs","f","res","resolvedPath","resolvedAbsolute","process","cwd","split","join","normalize","isAbsolute","trailingSlash","paths","relative","to","trim","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","code","hasRoot","ext","extname","startDot","startPart","preDotState","len","VueModule","Vue","default","Vue2","isVue2","isVue3","install","util","createApp","rootComponent","rootProps","vm","component","directive","dir","mount","el","hydrating","propsData","$mount","unmount","$destroy","hasInjectionContext","getCurrentInstance"],"mappings":"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","file":"js/vendors~app~b58f7129.8f639b2c.js","sourcesContent":["/* eslint-disable no-undefined */\n\nvar throttle = require('./throttle');\n\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\nmodule.exports = function ( delay, atBegin, callback ) {\n\treturn callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n};\n","/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress\n * @license MIT */\n\n;(function(root, factory) {\n\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.NProgress = factory();\n  }\n\n})(this, function() {\n  var NProgress = {};\n\n  NProgress.version = '0.2.0';\n\n  var Settings = NProgress.settings = {\n    minimum: 0.08,\n    easing: 'ease',\n    positionUsing: '',\n    speed: 200,\n    trickle: true,\n    trickleRate: 0.02,\n    trickleSpeed: 800,\n    showSpinner: true,\n    barSelector: '[role=\"bar\"]',\n    spinnerSelector: '[role=\"spinner\"]',\n    parent: 'body',\n    template: '<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'\n  };\n\n  /**\n   * Updates configuration.\n   *\n   *     NProgress.configure({\n   *       minimum: 0.1\n   *     });\n   */\n  NProgress.configure = function(options) {\n    var key, value;\n    for (key in options) {\n      value = options[key];\n      if (value !== undefined && options.hasOwnProperty(key)) Settings[key] = value;\n    }\n\n    return this;\n  };\n\n  /**\n   * Last number.\n   */\n\n  NProgress.status = null;\n\n  /**\n   * Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.\n   *\n   *     NProgress.set(0.4);\n   *     NProgress.set(1.0);\n   */\n\n  NProgress.set = function(n) {\n    var started = NProgress.isStarted();\n\n    n = clamp(n, Settings.minimum, 1);\n    NProgress.status = (n === 1 ? null : n);\n\n    var progress = NProgress.render(!started),\n        bar      = progress.querySelector(Settings.barSelector),\n        speed    = Settings.speed,\n        ease     = Settings.easing;\n\n    progress.offsetWidth; /* Repaint */\n\n    queue(function(next) {\n      // Set positionUsing if it hasn't already been set\n      if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();\n\n      // Add transition\n      css(bar, barPositionCSS(n, speed, ease));\n\n      if (n === 1) {\n        // Fade out\n        css(progress, { \n          transition: 'none', \n          opacity: 1 \n        });\n        progress.offsetWidth; /* Repaint */\n\n        setTimeout(function() {\n          css(progress, { \n            transition: 'all ' + speed + 'ms linear', \n            opacity: 0 \n          });\n          setTimeout(function() {\n            NProgress.remove();\n            next();\n          }, speed);\n        }, speed);\n      } else {\n        setTimeout(next, speed);\n      }\n    });\n\n    return this;\n  };\n\n  NProgress.isStarted = function() {\n    return typeof NProgress.status === 'number';\n  };\n\n  /**\n   * Shows the progress bar.\n   * This is the same as setting the status to 0%, except that it doesn't go backwards.\n   *\n   *     NProgress.start();\n   *\n   */\n  NProgress.start = function() {\n    if (!NProgress.status) NProgress.set(0);\n\n    var work = function() {\n      setTimeout(function() {\n        if (!NProgress.status) return;\n        NProgress.trickle();\n        work();\n      }, Settings.trickleSpeed);\n    };\n\n    if (Settings.trickle) work();\n\n    return this;\n  };\n\n  /**\n   * Hides the progress bar.\n   * This is the *sort of* the same as setting the status to 100%, with the\n   * difference being `done()` makes some placebo effect of some realistic motion.\n   *\n   *     NProgress.done();\n   *\n   * If `true` is passed, it will show the progress bar even if its hidden.\n   *\n   *     NProgress.done(true);\n   */\n\n  NProgress.done = function(force) {\n    if (!force && !NProgress.status) return this;\n\n    return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);\n  };\n\n  /**\n   * Increments by a random amount.\n   */\n\n  NProgress.inc = function(amount) {\n    var n = NProgress.status;\n\n    if (!n) {\n      return NProgress.start();\n    } else {\n      if (typeof amount !== 'number') {\n        amount = (1 - n) * clamp(Math.random() * n, 0.1, 0.95);\n      }\n\n      n = clamp(n + amount, 0, 0.994);\n      return NProgress.set(n);\n    }\n  };\n\n  NProgress.trickle = function() {\n    return NProgress.inc(Math.random() * Settings.trickleRate);\n  };\n\n  /**\n   * Waits for all supplied jQuery promises and\n   * increases the progress as the promises resolve.\n   *\n   * @param $promise jQUery Promise\n   */\n  (function() {\n    var initial = 0, current = 0;\n\n    NProgress.promise = function($promise) {\n      if (!$promise || $promise.state() === \"resolved\") {\n        return this;\n      }\n\n      if (current === 0) {\n        NProgress.start();\n      }\n\n      initial++;\n      current++;\n\n      $promise.always(function() {\n        current--;\n        if (current === 0) {\n            initial = 0;\n            NProgress.done();\n        } else {\n            NProgress.set((initial - current) / initial);\n        }\n      });\n\n      return this;\n    };\n\n  })();\n\n  /**\n   * (Internal) renders the progress bar markup based on the `template`\n   * setting.\n   */\n\n  NProgress.render = function(fromStart) {\n    if (NProgress.isRendered()) return document.getElementById('nprogress');\n\n    addClass(document.documentElement, 'nprogress-busy');\n    \n    var progress = document.createElement('div');\n    progress.id = 'nprogress';\n    progress.innerHTML = Settings.template;\n\n    var bar      = progress.querySelector(Settings.barSelector),\n        perc     = fromStart ? '-100' : toBarPerc(NProgress.status || 0),\n        parent   = document.querySelector(Settings.parent),\n        spinner;\n    \n    css(bar, {\n      transition: 'all 0 linear',\n      transform: 'translate3d(' + perc + '%,0,0)'\n    });\n\n    if (!Settings.showSpinner) {\n      spinner = progress.querySelector(Settings.spinnerSelector);\n      spinner && removeElement(spinner);\n    }\n\n    if (parent != document.body) {\n      addClass(parent, 'nprogress-custom-parent');\n    }\n\n    parent.appendChild(progress);\n    return progress;\n  };\n\n  /**\n   * Removes the element. Opposite of render().\n   */\n\n  NProgress.remove = function() {\n    removeClass(document.documentElement, 'nprogress-busy');\n    removeClass(document.querySelector(Settings.parent), 'nprogress-custom-parent');\n    var progress = document.getElementById('nprogress');\n    progress && removeElement(progress);\n  };\n\n  /**\n   * Checks if the progress bar is rendered.\n   */\n\n  NProgress.isRendered = function() {\n    return !!document.getElementById('nprogress');\n  };\n\n  /**\n   * Determine which positioning CSS rule to use.\n   */\n\n  NProgress.getPositioningCSS = function() {\n    // Sniff on document.body.style\n    var bodyStyle = document.body.style;\n\n    // Sniff prefixes\n    var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :\n                       ('MozTransform' in bodyStyle) ? 'Moz' :\n                       ('msTransform' in bodyStyle) ? 'ms' :\n                       ('OTransform' in bodyStyle) ? 'O' : '';\n\n    if (vendorPrefix + 'Perspective' in bodyStyle) {\n      // Modern browsers with 3D support, e.g. Webkit, IE10\n      return 'translate3d';\n    } else if (vendorPrefix + 'Transform' in bodyStyle) {\n      // Browsers without 3D support, e.g. IE9\n      return 'translate';\n    } else {\n      // Browsers without translate() support, e.g. IE7-8\n      return 'margin';\n    }\n  };\n\n  /**\n   * Helpers\n   */\n\n  function clamp(n, min, max) {\n    if (n < min) return min;\n    if (n > max) return max;\n    return n;\n  }\n\n  /**\n   * (Internal) converts a percentage (`0..1`) to a bar translateX\n   * percentage (`-100%..0%`).\n   */\n\n  function toBarPerc(n) {\n    return (-1 + n) * 100;\n  }\n\n\n  /**\n   * (Internal) returns the correct CSS for changing the bar's\n   * position given an n percentage, and speed and ease from Settings\n   */\n\n  function barPositionCSS(n, speed, ease) {\n    var barCSS;\n\n    if (Settings.positionUsing === 'translate3d') {\n      barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };\n    } else if (Settings.positionUsing === 'translate') {\n      barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };\n    } else {\n      barCSS = { 'margin-left': toBarPerc(n)+'%' };\n    }\n\n    barCSS.transition = 'all '+speed+'ms '+ease;\n\n    return barCSS;\n  }\n\n  /**\n   * (Internal) Queues a function to be executed.\n   */\n\n  var queue = (function() {\n    var pending = [];\n    \n    function next() {\n      var fn = pending.shift();\n      if (fn) {\n        fn(next);\n      }\n    }\n\n    return function(fn) {\n      pending.push(fn);\n      if (pending.length == 1) next();\n    };\n  })();\n\n  /**\n   * (Internal) Applies css properties to an element, similar to the jQuery \n   * css method.\n   *\n   * While this helper does assist with vendor prefixed property names, it \n   * does not perform any manipulation of values prior to setting styles.\n   */\n\n  var css = (function() {\n    var cssPrefixes = [ 'Webkit', 'O', 'Moz', 'ms' ],\n        cssProps    = {};\n\n    function camelCase(string) {\n      return string.replace(/^-ms-/, 'ms-').replace(/-([\\da-z])/gi, function(match, letter) {\n        return letter.toUpperCase();\n      });\n    }\n\n    function getVendorProp(name) {\n      var style = document.body.style;\n      if (name in style) return name;\n\n      var i = cssPrefixes.length,\n          capName = name.charAt(0).toUpperCase() + name.slice(1),\n          vendorName;\n      while (i--) {\n        vendorName = cssPrefixes[i] + capName;\n        if (vendorName in style) return vendorName;\n      }\n\n      return name;\n    }\n\n    function getStyleProp(name) {\n      name = camelCase(name);\n      return cssProps[name] || (cssProps[name] = getVendorProp(name));\n    }\n\n    function applyCss(element, prop, value) {\n      prop = getStyleProp(prop);\n      element.style[prop] = value;\n    }\n\n    return function(element, properties) {\n      var args = arguments,\n          prop, \n          value;\n\n      if (args.length == 2) {\n        for (prop in properties) {\n          value = properties[prop];\n          if (value !== undefined && properties.hasOwnProperty(prop)) applyCss(element, prop, value);\n        }\n      } else {\n        applyCss(element, args[1], args[2]);\n      }\n    }\n  })();\n\n  /**\n   * (Internal) Determines if an element or space separated list of class names contains a class name.\n   */\n\n  function hasClass(element, name) {\n    var list = typeof element == 'string' ? element : classList(element);\n    return list.indexOf(' ' + name + ' ') >= 0;\n  }\n\n  /**\n   * (Internal) Adds a class to an element.\n   */\n\n  function addClass(element, name) {\n    var oldList = classList(element),\n        newList = oldList + name;\n\n    if (hasClass(oldList, name)) return; \n\n    // Trim the opening space.\n    element.className = newList.substring(1);\n  }\n\n  /**\n   * (Internal) Removes a class from an element.\n   */\n\n  function removeClass(element, name) {\n    var oldList = classList(element),\n        newList;\n\n    if (!hasClass(element, name)) return;\n\n    // Replace the class name.\n    newList = oldList.replace(' ' + name + ' ', ' ');\n\n    // Trim the opening and closing spaces.\n    element.className = newList.substring(1, newList.length - 1);\n  }\n\n  /**\n   * (Internal) Gets a space separated list of the class names on the element. \n   * The list is wrapped with a single space on each end to facilitate finding \n   * matches within the list.\n   */\n\n  function classList(element) {\n    return (' ' + (element.className || '') + ' ').replace(/\\s+/gi, ' ');\n  }\n\n  /**\n   * (Internal) Removes an element from the DOM.\n   */\n\n  function removeElement(element) {\n    element && element.parentNode && element.parentNode.removeChild(element);\n  }\n\n  return NProgress;\n});\n\n","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nmodule.exports = function ( delay, noTrailing, callback, debounceMode ) {\n\n\t// After wrapper has stopped being called, this timeout ensures that\n\t// `callback` is executed at the proper times in `throttle` and `end`\n\t// debounce modes.\n\tvar timeoutID;\n\n\t// Keep track of the last time `callback` was executed.\n\tvar lastExec = 0;\n\n\t// `noTrailing` defaults to falsy.\n\tif ( typeof noTrailing !== 'boolean' ) {\n\t\tdebounceMode = callback;\n\t\tcallback = noTrailing;\n\t\tnoTrailing = undefined;\n\t}\n\n\t// The `wrapper` function encapsulates all of the throttling / debouncing\n\t// functionality and when executed will limit the rate at which `callback`\n\t// is executed.\n\tfunction wrapper () {\n\n\t\tvar self = this;\n\t\tvar elapsed = Number(new Date()) - lastExec;\n\t\tvar args = arguments;\n\n\t\t// Execute `callback` and update the `lastExec` timestamp.\n\t\tfunction exec () {\n\t\t\tlastExec = Number(new Date());\n\t\t\tcallback.apply(self, args);\n\t\t}\n\n\t\t// If `debounceMode` is true (at begin) this is used to clear the flag\n\t\t// to allow future `callback` executions.\n\t\tfunction clear () {\n\t\t\ttimeoutID = undefined;\n\t\t}\n\n\t\tif ( debounceMode && !timeoutID ) {\n\t\t\t// Since `wrapper` is being called for the first time and\n\t\t\t// `debounceMode` is true (at begin), execute `callback`.\n\t\t\texec();\n\t\t}\n\n\t\t// Clear any existing timeout.\n\t\tif ( timeoutID ) {\n\t\t\tclearTimeout(timeoutID);\n\t\t}\n\n\t\tif ( debounceMode === undefined && elapsed > delay ) {\n\t\t\t// In throttle mode, if `delay` time has been exceeded, execute\n\t\t\t// `callback`.\n\t\t\texec();\n\n\t\t} else if ( noTrailing !== true ) {\n\t\t\t// In trailing throttle mode, since `delay` time has not been\n\t\t\t// exceeded, schedule `callback` to execute `delay` ms after most\n\t\t\t// recent execution.\n\t\t\t//\n\t\t\t// If `debounceMode` is true (at begin), schedule `clear` to execute\n\t\t\t// after `delay` ms.\n\t\t\t//\n\t\t\t// If `debounceMode` is false (at end), schedule `callback` to\n\t\t\t// execute after `delay` ms.\n\t\t\ttimeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n\t\t}\n\n\t}\n\n\t// Return the wrapper function.\n\treturn wrapper;\n\n};\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule isEventSupported\n */\n\n'use strict';\n\nvar ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar useHasFeature;\nif (ExecutionEnvironment.canUseDOM) {\n  useHasFeature =\n    document.implementation &&\n    document.implementation.hasFeature &&\n    // always returns true in newer browsers as per the standard.\n    // @see http://dom.spec.whatwg.org/#dom-domimplementation-hasfeature\n    document.implementation.hasFeature('', '') !== true;\n}\n\n/**\n * Checks if an event is supported in the current execution environment.\n *\n * NOTE: This will not work correctly for non-generic events such as `change`,\n * `reset`, `load`, `error`, and `select`.\n *\n * Borrows from Modernizr.\n *\n * @param {string} eventNameSuffix Event name, e.g. \"click\".\n * @param {?boolean} capture Check if the capture phase is supported.\n * @return {boolean} True if the event is supported.\n * @internal\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nfunction isEventSupported(eventNameSuffix, capture) {\n  if (!ExecutionEnvironment.canUseDOM ||\n      capture && !('addEventListener' in document)) {\n    return false;\n  }\n\n  var eventName = 'on' + eventNameSuffix;\n  var isSupported = eventName in document;\n\n  if (!isSupported) {\n    var element = document.createElement('div');\n    element.setAttribute(eventName, 'return;');\n    isSupported = typeof element[eventName] === 'function';\n  }\n\n  if (!isSupported && useHasFeature && eventNameSuffix === 'wheel') {\n    // This is the only way to test support for the `wheel` event in IE9+.\n    isSupported = document.implementation.hasFeature('Events.wheel', '3.0');\n  }\n\n  return isSupported;\n}\n\nmodule.exports = isEventSupported;\n","/**\n * Copyright 2004-present Facebook. All Rights Reserved.\n *\n * @providesModule UserAgent_DEPRECATED\n */\n\n/**\n *  Provides entirely client-side User Agent and OS detection. You should prefer\n *  the non-deprecated UserAgent module when possible, which exposes our\n *  authoritative server-side PHP-based detection to the client.\n *\n *  Usage is straightforward:\n *\n *    if (UserAgent_DEPRECATED.ie()) {\n *      //  IE\n *    }\n *\n *  You can also do version checks:\n *\n *    if (UserAgent_DEPRECATED.ie() >= 7) {\n *      //  IE7 or better\n *    }\n *\n *  The browser functions will return NaN if the browser does not match, so\n *  you can also do version compares the other way:\n *\n *    if (UserAgent_DEPRECATED.ie() < 7) {\n *      //  IE6 or worse\n *    }\n *\n *  Note that the version is a float and may include a minor version number,\n *  so you should always use range operators to perform comparisons, not\n *  strict equality.\n *\n *  **Note:** You should **strongly** prefer capability detection to browser\n *  version detection where it's reasonable:\n *\n *    http://www.quirksmode.org/js/support.html\n *\n *  Further, we have a large number of mature wrapper functions and classes\n *  which abstract away many browser irregularities. Check the documentation,\n *  grep for things, or ask on javascript@lists.facebook.com before writing yet\n *  another copy of \"event || window.event\".\n *\n */\n\nvar _populated = false;\n\n// Browsers\nvar _ie, _firefox, _opera, _webkit, _chrome;\n\n// Actual IE browser for compatibility mode\nvar _ie_real_version;\n\n// Platforms\nvar _osx, _windows, _linux, _android;\n\n// Architectures\nvar _win64;\n\n// Devices\nvar _iphone, _ipad, _native;\n\nvar _mobile;\n\nfunction _populate() {\n  if (_populated) {\n    return;\n  }\n\n  _populated = true;\n\n  // To work around buggy JS libraries that can't handle multi-digit\n  // version numbers, Opera 10's user agent string claims it's Opera\n  // 9, then later includes a Version/X.Y field:\n  //\n  // Opera/9.80 (foo) Presto/2.2.15 Version/10.10\n  var uas = navigator.userAgent;\n  var agent = /(?:MSIE.(\\d+\\.\\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\\d+\\.\\d+))|(?:Opera(?:.+Version.|.)(\\d+\\.\\d+))|(?:AppleWebKit.(\\d+(?:\\.\\d+)?))|(?:Trident\\/\\d+\\.\\d+.*rv:(\\d+\\.\\d+))/.exec(uas);\n  var os    = /(Mac OS X)|(Windows)|(Linux)/.exec(uas);\n\n  _iphone = /\\b(iPhone|iP[ao]d)/.exec(uas);\n  _ipad = /\\b(iP[ao]d)/.exec(uas);\n  _android = /Android/i.exec(uas);\n  _native = /FBAN\\/\\w+;/i.exec(uas);\n  _mobile = /Mobile/i.exec(uas);\n\n  // Note that the IE team blog would have you believe you should be checking\n  // for 'Win64; x64'.  But MSDN then reveals that you can actually be coming\n  // from either x64 or ia64;  so ultimately, you should just check for Win64\n  // as in indicator of whether you're in 64-bit IE.  32-bit IE on 64-bit\n  // Windows will send 'WOW64' instead.\n  _win64 = !!(/Win64/.exec(uas));\n\n  if (agent) {\n    _ie = agent[1] ? parseFloat(agent[1]) : (\n          agent[5] ? parseFloat(agent[5]) : NaN);\n    // IE compatibility mode\n    if (_ie && document && document.documentMode) {\n      _ie = document.documentMode;\n    }\n    // grab the \"true\" ie version from the trident token if available\n    var trident = /(?:Trident\\/(\\d+.\\d+))/.exec(uas);\n    _ie_real_version = trident ? parseFloat(trident[1]) + 4 : _ie;\n\n    _firefox = agent[2] ? parseFloat(agent[2]) : NaN;\n    _opera   = agent[3] ? parseFloat(agent[3]) : NaN;\n    _webkit  = agent[4] ? parseFloat(agent[4]) : NaN;\n    if (_webkit) {\n      // We do not add the regexp to the above test, because it will always\n      // match 'safari' only since 'AppleWebKit' appears before 'Chrome' in\n      // the userAgent string.\n      agent = /(?:Chrome\\/(\\d+\\.\\d+))/.exec(uas);\n      _chrome = agent && agent[1] ? parseFloat(agent[1]) : NaN;\n    } else {\n      _chrome = NaN;\n    }\n  } else {\n    _ie = _firefox = _opera = _chrome = _webkit = NaN;\n  }\n\n  if (os) {\n    if (os[1]) {\n      // Detect OS X version.  If no version number matches, set _osx to true.\n      // Version examples:  10, 10_6_1, 10.7\n      // Parses version number as a float, taking only first two sets of\n      // digits.  If only one set of digits is found, returns just the major\n      // version number.\n      var ver = /(?:Mac OS X (\\d+(?:[._]\\d+)?))/.exec(uas);\n\n      _osx = ver ? parseFloat(ver[1].replace('_', '.')) : true;\n    } else {\n      _osx = false;\n    }\n    _windows = !!os[2];\n    _linux   = !!os[3];\n  } else {\n    _osx = _windows = _linux = false;\n  }\n}\n\nvar UserAgent_DEPRECATED = {\n\n  /**\n   *  Check if the UA is Internet Explorer.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  ie: function() {\n    return _populate() || _ie;\n  },\n\n  /**\n   * Check if we're in Internet Explorer compatibility mode.\n   *\n   * @return bool true if in compatibility mode, false if\n   * not compatibility mode or not ie\n   */\n  ieCompatibilityMode: function() {\n    return _populate() || (_ie_real_version > _ie);\n  },\n\n\n  /**\n   * Whether the browser is 64-bit IE.  Really, this is kind of weak sauce;  we\n   * only need this because Skype can't handle 64-bit IE yet.  We need to remove\n   * this when we don't need it -- tracked by #601957.\n   */\n  ie64: function() {\n    return UserAgent_DEPRECATED.ie() && _win64;\n  },\n\n  /**\n   *  Check if the UA is Firefox.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  firefox: function() {\n    return _populate() || _firefox;\n  },\n\n\n  /**\n   *  Check if the UA is Opera.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  opera: function() {\n    return _populate() || _opera;\n  },\n\n\n  /**\n   *  Check if the UA is WebKit.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  webkit: function() {\n    return _populate() || _webkit;\n  },\n\n  /**\n   *  For Push\n   *  WILL BE REMOVED VERY SOON. Use UserAgent_DEPRECATED.webkit\n   */\n  safari: function() {\n    return UserAgent_DEPRECATED.webkit();\n  },\n\n  /**\n   *  Check if the UA is a Chrome browser.\n   *\n   *\n   *  @return float|NaN Version number (if match) or NaN.\n   */\n  chrome : function() {\n    return _populate() || _chrome;\n  },\n\n\n  /**\n   *  Check if the user is running Windows.\n   *\n   *  @return bool `true' if the user's OS is Windows.\n   */\n  windows: function() {\n    return _populate() || _windows;\n  },\n\n\n  /**\n   *  Check if the user is running Mac OS X.\n   *\n   *  @return float|bool   Returns a float if a version number is detected,\n   *                       otherwise true/false.\n   */\n  osx: function() {\n    return _populate() || _osx;\n  },\n\n  /**\n   * Check if the user is running Linux.\n   *\n   * @return bool `true' if the user's OS is some flavor of Linux.\n   */\n  linux: function() {\n    return _populate() || _linux;\n  },\n\n  /**\n   * Check if the user is running on an iPhone or iPod platform.\n   *\n   * @return bool `true' if the user is running some flavor of the\n   *    iPhone OS.\n   */\n  iphone: function() {\n    return _populate() || _iphone;\n  },\n\n  mobile: function() {\n    return _populate() || (_iphone || _ipad || _android || _mobile);\n  },\n\n  nativeApp: function() {\n    // webviews inside of the native apps\n    return _populate() || _native;\n  },\n\n  android: function() {\n    return _populate() || _android;\n  },\n\n  ipad: function() {\n    return _populate() || _ipad;\n  }\n};\n\nmodule.exports = UserAgent_DEPRECATED;\n","var throttle = require('./throttle');\nvar debounce = require('./debounce');\n\nmodule.exports = {\n\tthrottle: throttle,\n\tdebounce: debounce\n};\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule ExecutionEnvironment\n */\n\n/*jslint evil: true */\n\n'use strict';\n\nvar canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n);\n\n/**\n * Simple, lightweight module assisting with the detection and context of\n * Worker. Helps avoid circular dependencies and allows code to reason about\n * whether or not they are in a Worker, even if they never include the main\n * `ReactWorker` dependency.\n */\nvar ExecutionEnvironment = {\n\n  canUseDOM: canUseDOM,\n\n  canUseWorkers: typeof Worker !== 'undefined',\n\n  canUseEventListeners:\n    canUseDOM && !!(window.addEventListener || window.attachEvent),\n\n  canUseViewport: canUseDOM && !!window.screen,\n\n  isInWorker: !canUseDOM // For now, this is true - might change in the future.\n\n};\n\nmodule.exports = ExecutionEnvironment;\n","/*!\n * pinia v2.3.1\n * (c) 2025 Eduardo San Martin Morote\n * @license MIT\n */\nimport { hasInjectionContext, inject, toRaw, watch, unref, markRaw, effectScope, ref, isVue2, isRef, isReactive, set, getCurrentScope, onScopeDispose, getCurrentInstance, reactive, toRef, del, nextTick, computed, toRefs } from 'vue-demi';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\n/**\n * setActivePinia must be called to handle SSR at the top of functions like\n * `fetch`, `setup`, `serverPrefetch` and others\n */\nlet activePinia;\n/**\n * Sets or unsets the active pinia. Used in SSR and internally when calling\n * actions and getters\n *\n * @param pinia - Pinia instance\n */\n// @ts-expect-error: cannot constrain the type of the return\nconst setActivePinia = (pinia) => (activePinia = pinia);\n/**\n * Get the currently active pinia if there is any.\n */\nconst getActivePinia = () => (hasInjectionContext() && inject(piniaSymbol)) || activePinia;\nconst piniaSymbol = ((process.env.NODE_ENV !== 'production') ? Symbol('pinia') : /* istanbul ignore next */ Symbol());\n\nfunction isPlainObject(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\no) {\n    return (o &&\n        typeof o === 'object' &&\n        Object.prototype.toString.call(o) === '[object Object]' &&\n        typeof o.toJSON !== 'function');\n}\n// type DeepReadonly<T> = { readonly [P in keyof T]: DeepReadonly<T[P]> }\n// TODO: can we change these to numbers?\n/**\n * Possible types for SubscriptionCallback\n */\nvar MutationType;\n(function (MutationType) {\n    /**\n     * Direct mutation of the state:\n     *\n     * - `store.name = 'new name'`\n     * - `store.$state.name = 'new name'`\n     * - `store.list.push('new item')`\n     */\n    MutationType[\"direct\"] = \"direct\";\n    /**\n     * Mutated the state with `$patch` and an object\n     *\n     * - `store.$patch({ name: 'newName' })`\n     */\n    MutationType[\"patchObject\"] = \"patch object\";\n    /**\n     * Mutated the state with `$patch` and a function\n     *\n     * - `store.$patch(state => state.name = 'newName')`\n     */\n    MutationType[\"patchFunction\"] = \"patch function\";\n    // maybe reset? for $state = {} and $reset\n})(MutationType || (MutationType = {}));\n\nconst IS_CLIENT = typeof window !== 'undefined';\n\n/*\n * FileSaver.js A saveAs() FileSaver implementation.\n *\n * Originally by Eli Grey, adapted as an ESM module by Eduardo San Martin\n * Morote.\n *\n * License : MIT\n */\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nconst _global = /*#__PURE__*/ (() => typeof window === 'object' && window.window === window\n    ? window\n    : typeof self === 'object' && self.self === self\n        ? self\n        : typeof global === 'object' && global.global === global\n            ? global\n            : typeof globalThis === 'object'\n                ? globalThis\n                : { HTMLElement: null })();\nfunction bom(blob, { autoBom = false } = {}) {\n    // prepend BOM for UTF-8 XML and text/* types (including HTML)\n    // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n    if (autoBom &&\n        /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n        return new Blob([String.fromCharCode(0xfeff), blob], { type: blob.type });\n    }\n    return blob;\n}\nfunction download(url, name, opts) {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n        saveAs(xhr.response, name, opts);\n    };\n    xhr.onerror = function () {\n        console.error('could not download file');\n    };\n    xhr.send();\n}\nfunction corsEnabled(url) {\n    const xhr = new XMLHttpRequest();\n    // use sync to avoid popup blocker\n    xhr.open('HEAD', url, false);\n    try {\n        xhr.send();\n    }\n    catch (e) { }\n    return xhr.status >= 200 && xhr.status <= 299;\n}\n// `a.click()` doesn't work for all browsers (#465)\nfunction click(node) {\n    try {\n        node.dispatchEvent(new MouseEvent('click'));\n    }\n    catch (e) {\n        const evt = document.createEvent('MouseEvents');\n        evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\n        node.dispatchEvent(evt);\n    }\n}\nconst _navigator = typeof navigator === 'object' ? navigator : { userAgent: '' };\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nconst isMacOSWebView = /*#__PURE__*/ (() => /Macintosh/.test(_navigator.userAgent) &&\n    /AppleWebKit/.test(_navigator.userAgent) &&\n    !/Safari/.test(_navigator.userAgent))();\nconst saveAs = !IS_CLIENT\n    ? () => { } // noop\n    : // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView or mini program\n        typeof HTMLAnchorElement !== 'undefined' &&\n            'download' in HTMLAnchorElement.prototype &&\n            !isMacOSWebView\n            ? downloadSaveAs\n            : // Use msSaveOrOpenBlob as a second approach\n                'msSaveOrOpenBlob' in _navigator\n                    ? msSaveAs\n                    : // Fallback to using FileReader and a popup\n                        fileSaverSaveAs;\nfunction downloadSaveAs(blob, name = 'download', opts) {\n    const a = document.createElement('a');\n    a.download = name;\n    a.rel = 'noopener'; // tabnabbing\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n    if (typeof blob === 'string') {\n        // Support regular links\n        a.href = blob;\n        if (a.origin !== location.origin) {\n            if (corsEnabled(a.href)) {\n                download(blob, name, opts);\n            }\n            else {\n                a.target = '_blank';\n                click(a);\n            }\n        }\n        else {\n            click(a);\n        }\n    }\n    else {\n        // Support blobs\n        a.href = URL.createObjectURL(blob);\n        setTimeout(function () {\n            URL.revokeObjectURL(a.href);\n        }, 4e4); // 40s\n        setTimeout(function () {\n            click(a);\n        }, 0);\n    }\n}\nfunction msSaveAs(blob, name = 'download', opts) {\n    if (typeof blob === 'string') {\n        if (corsEnabled(blob)) {\n            download(blob, name, opts);\n        }\n        else {\n            const a = document.createElement('a');\n            a.href = blob;\n            a.target = '_blank';\n            setTimeout(function () {\n                click(a);\n            });\n        }\n    }\n    else {\n        // @ts-ignore: works on windows\n        navigator.msSaveOrOpenBlob(bom(blob, opts), name);\n    }\n}\nfunction fileSaverSaveAs(blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank');\n    if (popup) {\n        popup.document.title = popup.document.body.innerText = 'downloading...';\n    }\n    if (typeof blob === 'string')\n        return download(blob, name, opts);\n    const force = blob.type === 'application/octet-stream';\n    const isSafari = /constructor/i.test(String(_global.HTMLElement)) || 'safari' in _global;\n    const isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) &&\n        typeof FileReader !== 'undefined') {\n        // Safari doesn't allow downloading of blob URLs\n        const reader = new FileReader();\n        reader.onloadend = function () {\n            let url = reader.result;\n            if (typeof url !== 'string') {\n                popup = null;\n                throw new Error('Wrong reader.result type');\n            }\n            url = isChromeIOS\n                ? url\n                : url.replace(/^data:[^;]*;/, 'data:attachment/file;');\n            if (popup) {\n                popup.location.href = url;\n            }\n            else {\n                location.assign(url);\n            }\n            popup = null; // reverse-tabnabbing #460\n        };\n        reader.readAsDataURL(blob);\n    }\n    else {\n        const url = URL.createObjectURL(blob);\n        if (popup)\n            popup.location.assign(url);\n        else\n            location.href = url;\n        popup = null; // reverse-tabnabbing #460\n        setTimeout(function () {\n            URL.revokeObjectURL(url);\n        }, 4e4); // 40s\n    }\n}\n\n/**\n * Shows a toast or console.log\n *\n * @param message - message to log\n * @param type - different color of the tooltip\n */\nfunction toastMessage(message, type) {\n    const piniaMessage = '🍍 ' + message;\n    if (typeof __VUE_DEVTOOLS_TOAST__ === 'function') {\n        // No longer available :(\n        __VUE_DEVTOOLS_TOAST__(piniaMessage, type);\n    }\n    else if (type === 'error') {\n        console.error(piniaMessage);\n    }\n    else if (type === 'warn') {\n        console.warn(piniaMessage);\n    }\n    else {\n        console.log(piniaMessage);\n    }\n}\nfunction isPinia(o) {\n    return '_a' in o && 'install' in o;\n}\n\n/**\n * This file contain devtools actions, they are not Pinia actions.\n */\n// ---\nfunction checkClipboardAccess() {\n    if (!('clipboard' in navigator)) {\n        toastMessage(`Your browser doesn't support the Clipboard API`, 'error');\n        return true;\n    }\n}\nfunction checkNotFocusedError(error) {\n    if (error instanceof Error &&\n        error.message.toLowerCase().includes('document is not focused')) {\n        toastMessage('You need to activate the \"Emulate a focused page\" setting in the \"Rendering\" panel of devtools.', 'warn');\n        return true;\n    }\n    return false;\n}\nasync function actionGlobalCopyState(pinia) {\n    if (checkClipboardAccess())\n        return;\n    try {\n        await navigator.clipboard.writeText(JSON.stringify(pinia.state.value));\n        toastMessage('Global state copied to clipboard.');\n    }\n    catch (error) {\n        if (checkNotFocusedError(error))\n            return;\n        toastMessage(`Failed to serialize the state. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nasync function actionGlobalPasteState(pinia) {\n    if (checkClipboardAccess())\n        return;\n    try {\n        loadStoresState(pinia, JSON.parse(await navigator.clipboard.readText()));\n        toastMessage('Global state pasted from clipboard.');\n    }\n    catch (error) {\n        if (checkNotFocusedError(error))\n            return;\n        toastMessage(`Failed to deserialize the state from clipboard. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nasync function actionGlobalSaveState(pinia) {\n    try {\n        saveAs(new Blob([JSON.stringify(pinia.state.value)], {\n            type: 'text/plain;charset=utf-8',\n        }), 'pinia-state.json');\n    }\n    catch (error) {\n        toastMessage(`Failed to export the state as JSON. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nlet fileInput;\nfunction getFileOpener() {\n    if (!fileInput) {\n        fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.accept = '.json';\n    }\n    function openFile() {\n        return new Promise((resolve, reject) => {\n            fileInput.onchange = async () => {\n                const files = fileInput.files;\n                if (!files)\n                    return resolve(null);\n                const file = files.item(0);\n                if (!file)\n                    return resolve(null);\n                return resolve({ text: await file.text(), file });\n            };\n            // @ts-ignore: TODO: changed from 4.3 to 4.4\n            fileInput.oncancel = () => resolve(null);\n            fileInput.onerror = reject;\n            fileInput.click();\n        });\n    }\n    return openFile;\n}\nasync function actionGlobalOpenStateFile(pinia) {\n    try {\n        const open = getFileOpener();\n        const result = await open();\n        if (!result)\n            return;\n        const { text, file } = result;\n        loadStoresState(pinia, JSON.parse(text));\n        toastMessage(`Global state imported from \"${file.name}\".`);\n    }\n    catch (error) {\n        toastMessage(`Failed to import the state from JSON. Check the console for more details.`, 'error');\n        console.error(error);\n    }\n}\nfunction loadStoresState(pinia, state) {\n    for (const key in state) {\n        const storeState = pinia.state.value[key];\n        // store is already instantiated, patch it\n        if (storeState) {\n            Object.assign(storeState, state[key]);\n        }\n        else {\n            // store is not instantiated, set the initial state\n            pinia.state.value[key] = state[key];\n        }\n    }\n}\n\nfunction formatDisplay(display) {\n    return {\n        _custom: {\n            display,\n        },\n    };\n}\nconst PINIA_ROOT_LABEL = '🍍 Pinia (root)';\nconst PINIA_ROOT_ID = '_root';\nfunction formatStoreForInspectorTree(store) {\n    return isPinia(store)\n        ? {\n            id: PINIA_ROOT_ID,\n            label: PINIA_ROOT_LABEL,\n        }\n        : {\n            id: store.$id,\n            label: store.$id,\n        };\n}\nfunction formatStoreForInspectorState(store) {\n    if (isPinia(store)) {\n        const storeNames = Array.from(store._s.keys());\n        const storeMap = store._s;\n        const state = {\n            state: storeNames.map((storeId) => ({\n                editable: true,\n                key: storeId,\n                value: store.state.value[storeId],\n            })),\n            getters: storeNames\n                .filter((id) => storeMap.get(id)._getters)\n                .map((id) => {\n                const store = storeMap.get(id);\n                return {\n                    editable: false,\n                    key: id,\n                    value: store._getters.reduce((getters, key) => {\n                        getters[key] = store[key];\n                        return getters;\n                    }, {}),\n                };\n            }),\n        };\n        return state;\n    }\n    const state = {\n        state: Object.keys(store.$state).map((key) => ({\n            editable: true,\n            key,\n            value: store.$state[key],\n        })),\n    };\n    // avoid adding empty getters\n    if (store._getters && store._getters.length) {\n        state.getters = store._getters.map((getterName) => ({\n            editable: false,\n            key: getterName,\n            value: store[getterName],\n        }));\n    }\n    if (store._customProperties.size) {\n        state.customProperties = Array.from(store._customProperties).map((key) => ({\n            editable: true,\n            key,\n            value: store[key],\n        }));\n    }\n    return state;\n}\nfunction formatEventData(events) {\n    if (!events)\n        return {};\n    if (Array.isArray(events)) {\n        // TODO: handle add and delete for arrays and objects\n        return events.reduce((data, event) => {\n            data.keys.push(event.key);\n            data.operations.push(event.type);\n            data.oldValue[event.key] = event.oldValue;\n            data.newValue[event.key] = event.newValue;\n            return data;\n        }, {\n            oldValue: {},\n            keys: [],\n            operations: [],\n            newValue: {},\n        });\n    }\n    else {\n        return {\n            operation: formatDisplay(events.type),\n            key: formatDisplay(events.key),\n            oldValue: events.oldValue,\n            newValue: events.newValue,\n        };\n    }\n}\nfunction formatMutationType(type) {\n    switch (type) {\n        case MutationType.direct:\n            return 'mutation';\n        case MutationType.patchFunction:\n            return '$patch';\n        case MutationType.patchObject:\n            return '$patch';\n        default:\n            return 'unknown';\n    }\n}\n\n// timeline can be paused when directly changing the state\nlet isTimelineActive = true;\nconst componentStateTypes = [];\nconst MUTATIONS_LAYER_ID = 'pinia:mutations';\nconst INSPECTOR_ID = 'pinia';\nconst { assign: assign$1 } = Object;\n/**\n * Gets the displayed name of a store in devtools\n *\n * @param id - id of the store\n * @returns a formatted string\n */\nconst getStoreType = (id) => '🍍 ' + id;\n/**\n * Add the pinia plugin without any store. Allows displaying a Pinia plugin tab\n * as soon as it is added to the application.\n *\n * @param app - Vue application\n * @param pinia - pinia instance\n */\nfunction registerPiniaDevtools(app, pinia) {\n    setupDevtoolsPlugin({\n        id: 'dev.esm.pinia',\n        label: 'Pinia 🍍',\n        logo: 'https://pinia.vuejs.org/logo.svg',\n        packageName: 'pinia',\n        homepage: 'https://pinia.vuejs.org',\n        componentStateTypes,\n        app,\n    }, (api) => {\n        if (typeof api.now !== 'function') {\n            toastMessage('You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html.');\n        }\n        api.addTimelineLayer({\n            id: MUTATIONS_LAYER_ID,\n            label: `Pinia 🍍`,\n            color: 0xe5df88,\n        });\n        api.addInspector({\n            id: INSPECTOR_ID,\n            label: 'Pinia 🍍',\n            icon: 'storage',\n            treeFilterPlaceholder: 'Search stores',\n            actions: [\n                {\n                    icon: 'content_copy',\n                    action: () => {\n                        actionGlobalCopyState(pinia);\n                    },\n                    tooltip: 'Serialize and copy the state',\n                },\n                {\n                    icon: 'content_paste',\n                    action: async () => {\n                        await actionGlobalPasteState(pinia);\n                        api.sendInspectorTree(INSPECTOR_ID);\n                        api.sendInspectorState(INSPECTOR_ID);\n                    },\n                    tooltip: 'Replace the state with the content of your clipboard',\n                },\n                {\n                    icon: 'save',\n                    action: () => {\n                        actionGlobalSaveState(pinia);\n                    },\n                    tooltip: 'Save the state as a JSON file',\n                },\n                {\n                    icon: 'folder_open',\n                    action: async () => {\n                        await actionGlobalOpenStateFile(pinia);\n                        api.sendInspectorTree(INSPECTOR_ID);\n                        api.sendInspectorState(INSPECTOR_ID);\n                    },\n                    tooltip: 'Import the state from a JSON file',\n                },\n            ],\n            nodeActions: [\n                {\n                    icon: 'restore',\n                    tooltip: 'Reset the state (with \"$reset\")',\n                    action: (nodeId) => {\n                        const store = pinia._s.get(nodeId);\n                        if (!store) {\n                            toastMessage(`Cannot reset \"${nodeId}\" store because it wasn't found.`, 'warn');\n                        }\n                        else if (typeof store.$reset !== 'function') {\n                            toastMessage(`Cannot reset \"${nodeId}\" store because it doesn't have a \"$reset\" method implemented.`, 'warn');\n                        }\n                        else {\n                            store.$reset();\n                            toastMessage(`Store \"${nodeId}\" reset.`);\n                        }\n                    },\n                },\n            ],\n        });\n        api.on.inspectComponent((payload, ctx) => {\n            const proxy = (payload.componentInstance &&\n                payload.componentInstance.proxy);\n            if (proxy && proxy._pStores) {\n                const piniaStores = payload.componentInstance.proxy._pStores;\n                Object.values(piniaStores).forEach((store) => {\n                    payload.instanceData.state.push({\n                        type: getStoreType(store.$id),\n                        key: 'state',\n                        editable: true,\n                        value: store._isOptionsAPI\n                            ? {\n                                _custom: {\n                                    value: toRaw(store.$state),\n                                    actions: [\n                                        {\n                                            icon: 'restore',\n                                            tooltip: 'Reset the state of this store',\n                                            action: () => store.$reset(),\n                                        },\n                                    ],\n                                },\n                            }\n                            : // NOTE: workaround to unwrap transferred refs\n                                Object.keys(store.$state).reduce((state, key) => {\n                                    state[key] = store.$state[key];\n                                    return state;\n                                }, {}),\n                    });\n                    if (store._getters && store._getters.length) {\n                        payload.instanceData.state.push({\n                            type: getStoreType(store.$id),\n                            key: 'getters',\n                            editable: false,\n                            value: store._getters.reduce((getters, key) => {\n                                try {\n                                    getters[key] = store[key];\n                                }\n                                catch (error) {\n                                    // @ts-expect-error: we just want to show it in devtools\n                                    getters[key] = error;\n                                }\n                                return getters;\n                            }, {}),\n                        });\n                    }\n                });\n            }\n        });\n        api.on.getInspectorTree((payload) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                let stores = [pinia];\n                stores = stores.concat(Array.from(pinia._s.values()));\n                payload.rootNodes = (payload.filter\n                    ? stores.filter((store) => '$id' in store\n                        ? store.$id\n                            .toLowerCase()\n                            .includes(payload.filter.toLowerCase())\n                        : PINIA_ROOT_LABEL.toLowerCase().includes(payload.filter.toLowerCase()))\n                    : stores).map(formatStoreForInspectorTree);\n            }\n        });\n        // Expose pinia instance as $pinia to window\n        globalThis.$pinia = pinia;\n        api.on.getInspectorState((payload) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                const inspectedStore = payload.nodeId === PINIA_ROOT_ID\n                    ? pinia\n                    : pinia._s.get(payload.nodeId);\n                if (!inspectedStore) {\n                    // this could be the selected store restored for a different project\n                    // so it's better not to say anything here\n                    return;\n                }\n                if (inspectedStore) {\n                    // Expose selected store as $store to window\n                    if (payload.nodeId !== PINIA_ROOT_ID)\n                        globalThis.$store = toRaw(inspectedStore);\n                    payload.state = formatStoreForInspectorState(inspectedStore);\n                }\n            }\n        });\n        api.on.editInspectorState((payload, ctx) => {\n            if (payload.app === app && payload.inspectorId === INSPECTOR_ID) {\n                const inspectedStore = payload.nodeId === PINIA_ROOT_ID\n                    ? pinia\n                    : pinia._s.get(payload.nodeId);\n                if (!inspectedStore) {\n                    return toastMessage(`store \"${payload.nodeId}\" not found`, 'error');\n                }\n                const { path } = payload;\n                if (!isPinia(inspectedStore)) {\n                    // access only the state\n                    if (path.length !== 1 ||\n                        !inspectedStore._customProperties.has(path[0]) ||\n                        path[0] in inspectedStore.$state) {\n                        path.unshift('$state');\n                    }\n                }\n                else {\n                    // Root access, we can omit the `.value` because the devtools API does it for us\n                    path.unshift('state');\n                }\n                isTimelineActive = false;\n                payload.set(inspectedStore, path, payload.state.value);\n                isTimelineActive = true;\n            }\n        });\n        api.on.editComponentState((payload) => {\n            if (payload.type.startsWith('🍍')) {\n                const storeId = payload.type.replace(/^🍍\\s*/, '');\n                const store = pinia._s.get(storeId);\n                if (!store) {\n                    return toastMessage(`store \"${storeId}\" not found`, 'error');\n                }\n                const { path } = payload;\n                if (path[0] !== 'state') {\n                    return toastMessage(`Invalid path for store \"${storeId}\":\\n${path}\\nOnly state can be modified.`);\n                }\n                // rewrite the first entry to be able to directly set the state as\n                // well as any other path\n                path[0] = '$state';\n                isTimelineActive = false;\n                payload.set(store, path, payload.state.value);\n                isTimelineActive = true;\n            }\n        });\n    });\n}\nfunction addStoreToDevtools(app, store) {\n    if (!componentStateTypes.includes(getStoreType(store.$id))) {\n        componentStateTypes.push(getStoreType(store.$id));\n    }\n    setupDevtoolsPlugin({\n        id: 'dev.esm.pinia',\n        label: 'Pinia 🍍',\n        logo: 'https://pinia.vuejs.org/logo.svg',\n        packageName: 'pinia',\n        homepage: 'https://pinia.vuejs.org',\n        componentStateTypes,\n        app,\n        settings: {\n            logStoreChanges: {\n                label: 'Notify about new/deleted stores',\n                type: 'boolean',\n                defaultValue: true,\n            },\n            // useEmojis: {\n            //   label: 'Use emojis in messages ⚡️',\n            //   type: 'boolean',\n            //   defaultValue: true,\n            // },\n        },\n    }, (api) => {\n        // gracefully handle errors\n        const now = typeof api.now === 'function' ? api.now.bind(api) : Date.now;\n        store.$onAction(({ after, onError, name, args }) => {\n            const groupId = runningActionId++;\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: {\n                    time: now(),\n                    title: '🛫 ' + name,\n                    subtitle: 'start',\n                    data: {\n                        store: formatDisplay(store.$id),\n                        action: formatDisplay(name),\n                        args,\n                    },\n                    groupId,\n                },\n            });\n            after((result) => {\n                activeAction = undefined;\n                api.addTimelineEvent({\n                    layerId: MUTATIONS_LAYER_ID,\n                    event: {\n                        time: now(),\n                        title: '🛬 ' + name,\n                        subtitle: 'end',\n                        data: {\n                            store: formatDisplay(store.$id),\n                            action: formatDisplay(name),\n                            args,\n                            result,\n                        },\n                        groupId,\n                    },\n                });\n            });\n            onError((error) => {\n                activeAction = undefined;\n                api.addTimelineEvent({\n                    layerId: MUTATIONS_LAYER_ID,\n                    event: {\n                        time: now(),\n                        logType: 'error',\n                        title: '💥 ' + name,\n                        subtitle: 'end',\n                        data: {\n                            store: formatDisplay(store.$id),\n                            action: formatDisplay(name),\n                            args,\n                            error,\n                        },\n                        groupId,\n                    },\n                });\n            });\n        }, true);\n        store._customProperties.forEach((name) => {\n            watch(() => unref(store[name]), (newValue, oldValue) => {\n                api.notifyComponentUpdate();\n                api.sendInspectorState(INSPECTOR_ID);\n                if (isTimelineActive) {\n                    api.addTimelineEvent({\n                        layerId: MUTATIONS_LAYER_ID,\n                        event: {\n                            time: now(),\n                            title: 'Change',\n                            subtitle: name,\n                            data: {\n                                newValue,\n                                oldValue,\n                            },\n                            groupId: activeAction,\n                        },\n                    });\n                }\n            }, { deep: true });\n        });\n        store.$subscribe(({ events, type }, state) => {\n            api.notifyComponentUpdate();\n            api.sendInspectorState(INSPECTOR_ID);\n            if (!isTimelineActive)\n                return;\n            // rootStore.state[store.id] = state\n            const eventData = {\n                time: now(),\n                title: formatMutationType(type),\n                data: assign$1({ store: formatDisplay(store.$id) }, formatEventData(events)),\n                groupId: activeAction,\n            };\n            if (type === MutationType.patchFunction) {\n                eventData.subtitle = '⤵️';\n            }\n            else if (type === MutationType.patchObject) {\n                eventData.subtitle = '🧩';\n            }\n            else if (events && !Array.isArray(events)) {\n                eventData.subtitle = events.type;\n            }\n            if (events) {\n                eventData.data['rawEvent(s)'] = {\n                    _custom: {\n                        display: 'DebuggerEvent',\n                        type: 'object',\n                        tooltip: 'raw DebuggerEvent[]',\n                        value: events,\n                    },\n                };\n            }\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: eventData,\n            });\n        }, { detached: true, flush: 'sync' });\n        const hotUpdate = store._hotUpdate;\n        store._hotUpdate = markRaw((newStore) => {\n            hotUpdate(newStore);\n            api.addTimelineEvent({\n                layerId: MUTATIONS_LAYER_ID,\n                event: {\n                    time: now(),\n                    title: '🔥 ' + store.$id,\n                    subtitle: 'HMR update',\n                    data: {\n                        store: formatDisplay(store.$id),\n                        info: formatDisplay(`HMR update`),\n                    },\n                },\n            });\n            // update the devtools too\n            api.notifyComponentUpdate();\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n        });\n        const { $dispose } = store;\n        store.$dispose = () => {\n            $dispose();\n            api.notifyComponentUpdate();\n            api.sendInspectorTree(INSPECTOR_ID);\n            api.sendInspectorState(INSPECTOR_ID);\n            api.getSettings().logStoreChanges &&\n                toastMessage(`Disposed \"${store.$id}\" store 🗑`);\n        };\n        // trigger an update so it can display new registered stores\n        api.notifyComponentUpdate();\n        api.sendInspectorTree(INSPECTOR_ID);\n        api.sendInspectorState(INSPECTOR_ID);\n        api.getSettings().logStoreChanges &&\n            toastMessage(`\"${store.$id}\" store installed 🆕`);\n    });\n}\nlet runningActionId = 0;\nlet activeAction;\n/**\n * Patches a store to enable action grouping in devtools by wrapping the store with a Proxy that is passed as the\n * context of all actions, allowing us to set `runningAction` on each access and effectively associating any state\n * mutation to the action.\n *\n * @param store - store to patch\n * @param actionNames - list of actionst to patch\n */\nfunction patchActionForGrouping(store, actionNames, wrapWithProxy) {\n    // original actions of the store as they are given by pinia. We are going to override them\n    const actions = actionNames.reduce((storeActions, actionName) => {\n        // use toRaw to avoid tracking #541\n        storeActions[actionName] = toRaw(store)[actionName];\n        return storeActions;\n    }, {});\n    for (const actionName in actions) {\n        store[actionName] = function () {\n            // the running action id is incremented in a before action hook\n            const _actionId = runningActionId;\n            const trackedStore = wrapWithProxy\n                ? new Proxy(store, {\n                    get(...args) {\n                        activeAction = _actionId;\n                        return Reflect.get(...args);\n                    },\n                    set(...args) {\n                        activeAction = _actionId;\n                        return Reflect.set(...args);\n                    },\n                })\n                : store;\n            // For Setup Stores we need https://github.com/tc39/proposal-async-context\n            activeAction = _actionId;\n            const retValue = actions[actionName].apply(trackedStore, arguments);\n            // this is safer as async actions in Setup Stores would associate mutations done outside of the action\n            activeAction = undefined;\n            return retValue;\n        };\n    }\n}\n/**\n * pinia.use(devtoolsPlugin)\n */\nfunction devtoolsPlugin({ app, store, options }) {\n    // HMR module\n    if (store.$id.startsWith('__hot:')) {\n        return;\n    }\n    // detect option api vs setup api\n    store._isOptionsAPI = !!options.state;\n    // Do not overwrite actions mocked by @pinia/testing (#2298)\n    if (!store._p._testing) {\n        patchActionForGrouping(store, Object.keys(options.actions), store._isOptionsAPI);\n        // Upgrade the HMR to also update the new actions\n        const originalHotUpdate = store._hotUpdate;\n        toRaw(store)._hotUpdate = function (newStore) {\n            originalHotUpdate.apply(this, arguments);\n            patchActionForGrouping(store, Object.keys(newStore._hmrPayload.actions), !!store._isOptionsAPI);\n        };\n    }\n    addStoreToDevtools(app, \n    // FIXME: is there a way to allow the assignment from Store<Id, S, G, A> to StoreGeneric?\n    store);\n}\n\n/**\n * Creates a Pinia instance to be used by the application\n */\nfunction createPinia() {\n    const scope = effectScope(true);\n    // NOTE: here we could check the window object for a state and directly set it\n    // if there is anything like it with Vue 3 SSR\n    const state = scope.run(() => ref({}));\n    let _p = [];\n    // plugins added before calling app.use(pinia)\n    let toBeInstalled = [];\n    const pinia = markRaw({\n        install(app) {\n            // this allows calling useStore() outside of a component setup after\n            // installing pinia's plugin\n            setActivePinia(pinia);\n            if (!isVue2) {\n                pinia._a = app;\n                app.provide(piniaSymbol, pinia);\n                app.config.globalProperties.$pinia = pinia;\n                /* istanbul ignore else */\n                if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n                    registerPiniaDevtools(app, pinia);\n                }\n                toBeInstalled.forEach((plugin) => _p.push(plugin));\n                toBeInstalled = [];\n            }\n        },\n        use(plugin) {\n            if (!this._a && !isVue2) {\n                toBeInstalled.push(plugin);\n            }\n            else {\n                _p.push(plugin);\n            }\n            return this;\n        },\n        _p,\n        // it's actually undefined here\n        // @ts-expect-error\n        _a: null,\n        _e: scope,\n        _s: new Map(),\n        state,\n    });\n    // pinia devtools rely on dev only features so they cannot be forced unless\n    // the dev build of Vue is used. Avoid old browsers like IE11.\n    if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT && typeof Proxy !== 'undefined') {\n        pinia.use(devtoolsPlugin);\n    }\n    return pinia;\n}\n/**\n * Dispose a Pinia instance by stopping its effectScope and removing the state, plugins and stores. This is mostly\n * useful in tests, with both a testing pinia or a regular pinia and in applications that use multiple pinia instances.\n * Once disposed, the pinia instance cannot be used anymore.\n *\n * @param pinia - pinia instance\n */\nfunction disposePinia(pinia) {\n    pinia._e.stop();\n    pinia._s.clear();\n    pinia._p.splice(0);\n    pinia.state.value = {};\n    // @ts-expect-error: non valid\n    pinia._a = null;\n}\n\n/**\n * Checks if a function is a `StoreDefinition`.\n *\n * @param fn - object to test\n * @returns true if `fn` is a StoreDefinition\n */\nconst isUseStore = (fn) => {\n    return typeof fn === 'function' && typeof fn.$id === 'string';\n};\n/**\n * Mutates in place `newState` with `oldState` to _hot update_ it. It will\n * remove any key not existing in `newState` and recursively merge plain\n * objects.\n *\n * @param newState - new state object to be patched\n * @param oldState - old state that should be used to patch newState\n * @returns - newState\n */\nfunction patchObject(newState, oldState) {\n    // no need to go through symbols because they cannot be serialized anyway\n    for (const key in oldState) {\n        const subPatch = oldState[key];\n        // skip the whole sub tree\n        if (!(key in newState)) {\n            continue;\n        }\n        const targetValue = newState[key];\n        if (isPlainObject(targetValue) &&\n            isPlainObject(subPatch) &&\n            !isRef(subPatch) &&\n            !isReactive(subPatch)) {\n            newState[key] = patchObject(targetValue, subPatch);\n        }\n        else {\n            // objects are either a bit more complex (e.g. refs) or primitives, so we\n            // just set the whole thing\n            if (isVue2) {\n                set(newState, key, subPatch);\n            }\n            else {\n                newState[key] = subPatch;\n            }\n        }\n    }\n    return newState;\n}\n/**\n * Creates an _accept_ function to pass to `import.meta.hot` in Vite applications.\n *\n * @example\n * ```js\n * const useUser = defineStore(...)\n * if (import.meta.hot) {\n *   import.meta.hot.accept(acceptHMRUpdate(useUser, import.meta.hot))\n * }\n * ```\n *\n * @param initialUseStore - return of the defineStore to hot update\n * @param hot - `import.meta.hot`\n */\nfunction acceptHMRUpdate(initialUseStore, hot) {\n    // strip as much as possible from iife.prod\n    if (!(process.env.NODE_ENV !== 'production')) {\n        return () => { };\n    }\n    return (newModule) => {\n        const pinia = hot.data.pinia || initialUseStore._pinia;\n        if (!pinia) {\n            // this store is still not used\n            return;\n        }\n        // preserve the pinia instance across loads\n        hot.data.pinia = pinia;\n        // console.log('got data', newStore)\n        for (const exportName in newModule) {\n            const useStore = newModule[exportName];\n            // console.log('checking for', exportName)\n            if (isUseStore(useStore) && pinia._s.has(useStore.$id)) {\n                // console.log('Accepting update for', useStore.$id)\n                const id = useStore.$id;\n                if (id !== initialUseStore.$id) {\n                    console.warn(`The id of the store changed from \"${initialUseStore.$id}\" to \"${id}\". Reloading.`);\n                    // return import.meta.hot.invalidate()\n                    return hot.invalidate();\n                }\n                const existingStore = pinia._s.get(id);\n                if (!existingStore) {\n                    console.log(`[Pinia]: skipping hmr because store doesn't exist yet`);\n                    return;\n                }\n                useStore(pinia, existingStore);\n            }\n        }\n    };\n}\n\nconst noop = () => { };\nfunction addSubscription(subscriptions, callback, detached, onCleanup = noop) {\n    subscriptions.push(callback);\n    const removeSubscription = () => {\n        const idx = subscriptions.indexOf(callback);\n        if (idx > -1) {\n            subscriptions.splice(idx, 1);\n            onCleanup();\n        }\n    };\n    if (!detached && getCurrentScope()) {\n        onScopeDispose(removeSubscription);\n    }\n    return removeSubscription;\n}\nfunction triggerSubscriptions(subscriptions, ...args) {\n    subscriptions.slice().forEach((callback) => {\n        callback(...args);\n    });\n}\n\nconst fallbackRunWithContext = (fn) => fn();\n/**\n * Marks a function as an action for `$onAction`\n * @internal\n */\nconst ACTION_MARKER = Symbol();\n/**\n * Action name symbol. Allows to add a name to an action after defining it\n * @internal\n */\nconst ACTION_NAME = Symbol();\nfunction mergeReactiveObjects(target, patchToApply) {\n    // Handle Map instances\n    if (target instanceof Map && patchToApply instanceof Map) {\n        patchToApply.forEach((value, key) => target.set(key, value));\n    }\n    else if (target instanceof Set && patchToApply instanceof Set) {\n        // Handle Set instances\n        patchToApply.forEach(target.add, target);\n    }\n    // no need to go through symbols because they cannot be serialized anyway\n    for (const key in patchToApply) {\n        if (!patchToApply.hasOwnProperty(key))\n            continue;\n        const subPatch = patchToApply[key];\n        const targetValue = target[key];\n        if (isPlainObject(targetValue) &&\n            isPlainObject(subPatch) &&\n            target.hasOwnProperty(key) &&\n            !isRef(subPatch) &&\n            !isReactive(subPatch)) {\n            // NOTE: here I wanted to warn about inconsistent types but it's not possible because in setup stores one might\n            // start the value of a property as a certain type e.g. a Map, and then for some reason, during SSR, change that\n            // to `undefined`. When trying to hydrate, we want to override the Map with `undefined`.\n            target[key] = mergeReactiveObjects(targetValue, subPatch);\n        }\n        else {\n            // @ts-expect-error: subPatch is a valid value\n            target[key] = subPatch;\n        }\n    }\n    return target;\n}\nconst skipHydrateSymbol = (process.env.NODE_ENV !== 'production')\n    ? Symbol('pinia:skipHydration')\n    : /* istanbul ignore next */ Symbol();\n/**\n * Tells Pinia to skip the hydration process of a given object. This is useful in setup stores (only) when you return a\n * stateful object in the store but it isn't really state. e.g. returning a router instance in a setup store.\n *\n * @param obj - target object\n * @returns obj\n */\nfunction skipHydrate(obj) {\n    return Object.defineProperty(obj, skipHydrateSymbol, {});\n}\n/**\n * Returns whether a value should be hydrated\n *\n * @param obj - target variable\n * @returns true if `obj` should be hydrated\n */\nfunction shouldHydrate(obj) {\n    return !isPlainObject(obj) || !obj.hasOwnProperty(skipHydrateSymbol);\n}\nconst { assign } = Object;\nfunction isComputed(o) {\n    return !!(isRef(o) && o.effect);\n}\nfunction createOptionsStore(id, options, pinia, hot) {\n    const { state, actions, getters } = options;\n    const initialState = pinia.state.value[id];\n    let store;\n    function setup() {\n        if (!initialState && (!(process.env.NODE_ENV !== 'production') || !hot)) {\n            /* istanbul ignore if */\n            if (isVue2) {\n                set(pinia.state.value, id, state ? state() : {});\n            }\n            else {\n                pinia.state.value[id] = state ? state() : {};\n            }\n        }\n        // avoid creating a state in pinia.state.value\n        const localState = (process.env.NODE_ENV !== 'production') && hot\n            ? // use ref() to unwrap refs inside state TODO: check if this is still necessary\n                toRefs(ref(state ? state() : {}).value)\n            : toRefs(pinia.state.value[id]);\n        return assign(localState, actions, Object.keys(getters || {}).reduce((computedGetters, name) => {\n            if ((process.env.NODE_ENV !== 'production') && name in localState) {\n                console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with \"${name}\" in store \"${id}\".`);\n            }\n            computedGetters[name] = markRaw(computed(() => {\n                setActivePinia(pinia);\n                // it was created just before\n                const store = pinia._s.get(id);\n                // allow cross using stores\n                /* istanbul ignore if */\n                if (isVue2 && !store._r)\n                    return;\n                // @ts-expect-error\n                // return getters![name].call(context, context)\n                // TODO: avoid reading the getter while assigning with a global variable\n                return getters[name].call(store, store);\n            }));\n            return computedGetters;\n        }, {}));\n    }\n    store = createSetupStore(id, setup, options, pinia, hot, true);\n    return store;\n}\nfunction createSetupStore($id, setup, options = {}, pinia, hot, isOptionsStore) {\n    let scope;\n    const optionsForPlugin = assign({ actions: {} }, options);\n    /* istanbul ignore if */\n    if ((process.env.NODE_ENV !== 'production') && !pinia._e.active) {\n        throw new Error('Pinia destroyed');\n    }\n    // watcher options for $subscribe\n    const $subscribeOptions = { deep: true };\n    /* istanbul ignore else */\n    if ((process.env.NODE_ENV !== 'production') && !isVue2) {\n        $subscribeOptions.onTrigger = (event) => {\n            /* istanbul ignore else */\n            if (isListening) {\n                debuggerEvents = event;\n                // avoid triggering this while the store is being built and the state is being set in pinia\n            }\n            else if (isListening == false && !store._hotUpdating) {\n                // let patch send all the events together later\n                /* istanbul ignore else */\n                if (Array.isArray(debuggerEvents)) {\n                    debuggerEvents.push(event);\n                }\n                else {\n                    console.error('🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug.');\n                }\n            }\n        };\n    }\n    // internal state\n    let isListening; // set to true at the end\n    let isSyncListening; // set to true at the end\n    let subscriptions = [];\n    let actionSubscriptions = [];\n    let debuggerEvents;\n    const initialState = pinia.state.value[$id];\n    // avoid setting the state for option stores if it is set\n    // by the setup\n    if (!isOptionsStore && !initialState && (!(process.env.NODE_ENV !== 'production') || !hot)) {\n        /* istanbul ignore if */\n        if (isVue2) {\n            set(pinia.state.value, $id, {});\n        }\n        else {\n            pinia.state.value[$id] = {};\n        }\n    }\n    const hotState = ref({});\n    // avoid triggering too many listeners\n    // https://github.com/vuejs/pinia/issues/1129\n    let activeListener;\n    function $patch(partialStateOrMutator) {\n        let subscriptionMutation;\n        isListening = isSyncListening = false;\n        // reset the debugger events since patches are sync\n        /* istanbul ignore else */\n        if ((process.env.NODE_ENV !== 'production')) {\n            debuggerEvents = [];\n        }\n        if (typeof partialStateOrMutator === 'function') {\n            partialStateOrMutator(pinia.state.value[$id]);\n            subscriptionMutation = {\n                type: MutationType.patchFunction,\n                storeId: $id,\n                events: debuggerEvents,\n            };\n        }\n        else {\n            mergeReactiveObjects(pinia.state.value[$id], partialStateOrMutator);\n            subscriptionMutation = {\n                type: MutationType.patchObject,\n                payload: partialStateOrMutator,\n                storeId: $id,\n                events: debuggerEvents,\n            };\n        }\n        const myListenerId = (activeListener = Symbol());\n        nextTick().then(() => {\n            if (activeListener === myListenerId) {\n                isListening = true;\n            }\n        });\n        isSyncListening = true;\n        // because we paused the watcher, we need to manually call the subscriptions\n        triggerSubscriptions(subscriptions, subscriptionMutation, pinia.state.value[$id]);\n    }\n    const $reset = isOptionsStore\n        ? function $reset() {\n            const { state } = options;\n            const newState = state ? state() : {};\n            // we use a patch to group all changes into one single subscription\n            this.$patch(($state) => {\n                // @ts-expect-error: FIXME: shouldn't error?\n                assign($state, newState);\n            });\n        }\n        : /* istanbul ignore next */\n            (process.env.NODE_ENV !== 'production')\n                ? () => {\n                    throw new Error(`🍍: Store \"${$id}\" is built using the setup syntax and does not implement $reset().`);\n                }\n                : noop;\n    function $dispose() {\n        scope.stop();\n        subscriptions = [];\n        actionSubscriptions = [];\n        pinia._s.delete($id);\n    }\n    /**\n     * Helper that wraps function so it can be tracked with $onAction\n     * @param fn - action to wrap\n     * @param name - name of the action\n     */\n    const action = (fn, name = '') => {\n        if (ACTION_MARKER in fn) {\n            fn[ACTION_NAME] = name;\n            return fn;\n        }\n        const wrappedAction = function () {\n            setActivePinia(pinia);\n            const args = Array.from(arguments);\n            const afterCallbackList = [];\n            const onErrorCallbackList = [];\n            function after(callback) {\n                afterCallbackList.push(callback);\n            }\n            function onError(callback) {\n                onErrorCallbackList.push(callback);\n            }\n            // @ts-expect-error\n            triggerSubscriptions(actionSubscriptions, {\n                args,\n                name: wrappedAction[ACTION_NAME],\n                store,\n                after,\n                onError,\n            });\n            let ret;\n            try {\n                ret = fn.apply(this && this.$id === $id ? this : store, args);\n                // handle sync errors\n            }\n            catch (error) {\n                triggerSubscriptions(onErrorCallbackList, error);\n                throw error;\n            }\n            if (ret instanceof Promise) {\n                return ret\n                    .then((value) => {\n                    triggerSubscriptions(afterCallbackList, value);\n                    return value;\n                })\n                    .catch((error) => {\n                    triggerSubscriptions(onErrorCallbackList, error);\n                    return Promise.reject(error);\n                });\n            }\n            // trigger after callbacks\n            triggerSubscriptions(afterCallbackList, ret);\n            return ret;\n        };\n        wrappedAction[ACTION_MARKER] = true;\n        wrappedAction[ACTION_NAME] = name; // will be set later\n        // @ts-expect-error: we are intentionally limiting the returned type to just Fn\n        // because all the added properties are internals that are exposed through `$onAction()` only\n        return wrappedAction;\n    };\n    const _hmrPayload = /*#__PURE__*/ markRaw({\n        actions: {},\n        getters: {},\n        state: [],\n        hotState,\n    });\n    const partialStore = {\n        _p: pinia,\n        // _s: scope,\n        $id,\n        $onAction: addSubscription.bind(null, actionSubscriptions),\n        $patch,\n        $reset,\n        $subscribe(callback, options = {}) {\n            const removeSubscription = addSubscription(subscriptions, callback, options.detached, () => stopWatcher());\n            const stopWatcher = scope.run(() => watch(() => pinia.state.value[$id], (state) => {\n                if (options.flush === 'sync' ? isSyncListening : isListening) {\n                    callback({\n                        storeId: $id,\n                        type: MutationType.direct,\n                        events: debuggerEvents,\n                    }, state);\n                }\n            }, assign({}, $subscribeOptions, options)));\n            return removeSubscription;\n        },\n        $dispose,\n    };\n    /* istanbul ignore if */\n    if (isVue2) {\n        // start as non ready\n        partialStore._r = false;\n    }\n    const store = reactive((process.env.NODE_ENV !== 'production') || ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT)\n        ? assign({\n            _hmrPayload,\n            _customProperties: markRaw(new Set()), // devtools custom properties\n        }, partialStore\n        // must be added later\n        // setupStore\n        )\n        : partialStore);\n    // store the partial store now so the setup of stores can instantiate each other before they are finished without\n    // creating infinite loops.\n    pinia._s.set($id, store);\n    const runWithContext = (pinia._a && pinia._a.runWithContext) || fallbackRunWithContext;\n    // TODO: idea create skipSerialize that marks properties as non serializable and they are skipped\n    const setupStore = runWithContext(() => pinia._e.run(() => (scope = effectScope()).run(() => setup({ action }))));\n    // overwrite existing actions to support $onAction\n    for (const key in setupStore) {\n        const prop = setupStore[key];\n        if ((isRef(prop) && !isComputed(prop)) || isReactive(prop)) {\n            // mark it as a piece of state to be serialized\n            if ((process.env.NODE_ENV !== 'production') && hot) {\n                set(hotState.value, key, toRef(setupStore, key));\n                // createOptionStore directly sets the state in pinia.state.value so we\n                // can just skip that\n            }\n            else if (!isOptionsStore) {\n                // in setup stores we must hydrate the state and sync pinia state tree with the refs the user just created\n                if (initialState && shouldHydrate(prop)) {\n                    if (isRef(prop)) {\n                        prop.value = initialState[key];\n                    }\n                    else {\n                        // probably a reactive object, lets recursively assign\n                        // @ts-expect-error: prop is unknown\n                        mergeReactiveObjects(prop, initialState[key]);\n                    }\n                }\n                // transfer the ref to the pinia state to keep everything in sync\n                /* istanbul ignore if */\n                if (isVue2) {\n                    set(pinia.state.value[$id], key, prop);\n                }\n                else {\n                    pinia.state.value[$id][key] = prop;\n                }\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                _hmrPayload.state.push(key);\n            }\n            // action\n        }\n        else if (typeof prop === 'function') {\n            const actionValue = (process.env.NODE_ENV !== 'production') && hot ? prop : action(prop, key);\n            // this a hot module replacement store because the hotUpdate method needs\n            // to do it with the right context\n            /* istanbul ignore if */\n            if (isVue2) {\n                set(setupStore, key, actionValue);\n            }\n            else {\n                // @ts-expect-error\n                setupStore[key] = actionValue;\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                _hmrPayload.actions[key] = prop;\n            }\n            // list actions so they can be used in plugins\n            // @ts-expect-error\n            optionsForPlugin.actions[key] = prop;\n        }\n        else if ((process.env.NODE_ENV !== 'production')) {\n            // add getters for devtools\n            if (isComputed(prop)) {\n                _hmrPayload.getters[key] = isOptionsStore\n                    ? // @ts-expect-error\n                        options.getters[key]\n                    : prop;\n                if (IS_CLIENT) {\n                    const getters = setupStore._getters ||\n                        // @ts-expect-error: same\n                        (setupStore._getters = markRaw([]));\n                    getters.push(key);\n                }\n            }\n        }\n    }\n    // add the state, getters, and action properties\n    /* istanbul ignore if */\n    if (isVue2) {\n        Object.keys(setupStore).forEach((key) => {\n            set(store, key, setupStore[key]);\n        });\n    }\n    else {\n        assign(store, setupStore);\n        // allows retrieving reactive objects with `storeToRefs()`. Must be called after assigning to the reactive object.\n        // Make `storeToRefs()` work with `reactive()` #799\n        assign(toRaw(store), setupStore);\n    }\n    // use this instead of a computed with setter to be able to create it anywhere\n    // without linking the computed lifespan to wherever the store is first\n    // created.\n    Object.defineProperty(store, '$state', {\n        get: () => ((process.env.NODE_ENV !== 'production') && hot ? hotState.value : pinia.state.value[$id]),\n        set: (state) => {\n            /* istanbul ignore if */\n            if ((process.env.NODE_ENV !== 'production') && hot) {\n                throw new Error('cannot set hotState');\n            }\n            $patch(($state) => {\n                // @ts-expect-error: FIXME: shouldn't error?\n                assign($state, state);\n            });\n        },\n    });\n    // add the hotUpdate before plugins to allow them to override it\n    /* istanbul ignore else */\n    if ((process.env.NODE_ENV !== 'production')) {\n        store._hotUpdate = markRaw((newStore) => {\n            store._hotUpdating = true;\n            newStore._hmrPayload.state.forEach((stateKey) => {\n                if (stateKey in store.$state) {\n                    const newStateTarget = newStore.$state[stateKey];\n                    const oldStateSource = store.$state[stateKey];\n                    if (typeof newStateTarget === 'object' &&\n                        isPlainObject(newStateTarget) &&\n                        isPlainObject(oldStateSource)) {\n                        patchObject(newStateTarget, oldStateSource);\n                    }\n                    else {\n                        // transfer the ref\n                        newStore.$state[stateKey] = oldStateSource;\n                    }\n                }\n                // patch direct access properties to allow store.stateProperty to work as\n                // store.$state.stateProperty\n                set(store, stateKey, toRef(newStore.$state, stateKey));\n            });\n            // remove deleted state properties\n            Object.keys(store.$state).forEach((stateKey) => {\n                if (!(stateKey in newStore.$state)) {\n                    del(store, stateKey);\n                }\n            });\n            // avoid devtools logging this as a mutation\n            isListening = false;\n            isSyncListening = false;\n            pinia.state.value[$id] = toRef(newStore._hmrPayload, 'hotState');\n            isSyncListening = true;\n            nextTick().then(() => {\n                isListening = true;\n            });\n            for (const actionName in newStore._hmrPayload.actions) {\n                const actionFn = newStore[actionName];\n                set(store, actionName, action(actionFn, actionName));\n            }\n            // TODO: does this work in both setup and option store?\n            for (const getterName in newStore._hmrPayload.getters) {\n                const getter = newStore._hmrPayload.getters[getterName];\n                const getterValue = isOptionsStore\n                    ? // special handling of options api\n                        computed(() => {\n                            setActivePinia(pinia);\n                            return getter.call(store, store);\n                        })\n                    : getter;\n                set(store, getterName, getterValue);\n            }\n            // remove deleted getters\n            Object.keys(store._hmrPayload.getters).forEach((key) => {\n                if (!(key in newStore._hmrPayload.getters)) {\n                    del(store, key);\n                }\n            });\n            // remove old actions\n            Object.keys(store._hmrPayload.actions).forEach((key) => {\n                if (!(key in newStore._hmrPayload.actions)) {\n                    del(store, key);\n                }\n            });\n            // update the values used in devtools and to allow deleting new properties later on\n            store._hmrPayload = newStore._hmrPayload;\n            store._getters = newStore._getters;\n            store._hotUpdating = false;\n        });\n    }\n    if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n        const nonEnumerable = {\n            writable: true,\n            configurable: true,\n            // avoid warning on devtools trying to display this property\n            enumerable: false,\n        };\n        ['_p', '_hmrPayload', '_getters', '_customProperties'].forEach((p) => {\n            Object.defineProperty(store, p, assign({ value: store[p] }, nonEnumerable));\n        });\n    }\n    /* istanbul ignore if */\n    if (isVue2) {\n        // mark the store as ready before plugins\n        store._r = true;\n    }\n    // apply all plugins\n    pinia._p.forEach((extender) => {\n        /* istanbul ignore else */\n        if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n            const extensions = scope.run(() => extender({\n                store: store,\n                app: pinia._a,\n                pinia,\n                options: optionsForPlugin,\n            }));\n            Object.keys(extensions || {}).forEach((key) => store._customProperties.add(key));\n            assign(store, extensions);\n        }\n        else {\n            assign(store, scope.run(() => extender({\n                store: store,\n                app: pinia._a,\n                pinia,\n                options: optionsForPlugin,\n            })));\n        }\n    });\n    if ((process.env.NODE_ENV !== 'production') &&\n        store.$state &&\n        typeof store.$state === 'object' &&\n        typeof store.$state.constructor === 'function' &&\n        !store.$state.constructor.toString().includes('[native code]')) {\n        console.warn(`[🍍]: The \"state\" must be a plain object. It cannot be\\n` +\n            `\\tstate: () => new MyClass()\\n` +\n            `Found in store \"${store.$id}\".`);\n    }\n    // only apply hydrate to option stores with an initial state in pinia\n    if (initialState &&\n        isOptionsStore &&\n        options.hydrate) {\n        options.hydrate(store.$state, initialState);\n    }\n    isListening = true;\n    isSyncListening = true;\n    return store;\n}\n// allows unused stores to be tree shaken\n/*! #__NO_SIDE_EFFECTS__ */\nfunction defineStore(\n// TODO: add proper types from above\nidOrOptions, setup, setupOptions) {\n    let id;\n    let options;\n    const isSetupStore = typeof setup === 'function';\n    if (typeof idOrOptions === 'string') {\n        id = idOrOptions;\n        // the option store setup will contain the actual options in this case\n        options = isSetupStore ? setupOptions : setup;\n    }\n    else {\n        options = idOrOptions;\n        id = idOrOptions.id;\n        if ((process.env.NODE_ENV !== 'production') && typeof id !== 'string') {\n            throw new Error(`[🍍]: \"defineStore()\" must be passed a store id as its first argument.`);\n        }\n    }\n    function useStore(pinia, hot) {\n        const hasContext = hasInjectionContext();\n        pinia =\n            // in test mode, ignore the argument provided as we can always retrieve a\n            // pinia instance with getActivePinia()\n            ((process.env.NODE_ENV === 'test') && activePinia && activePinia._testing ? null : pinia) ||\n                (hasContext ? inject(piniaSymbol, null) : null);\n        if (pinia)\n            setActivePinia(pinia);\n        if ((process.env.NODE_ENV !== 'production') && !activePinia) {\n            throw new Error(`[🍍]: \"getActivePinia()\" was called but there was no active Pinia. Are you trying to use a store before calling \"app.use(pinia)\"?\\n` +\n                `See https://pinia.vuejs.org/core-concepts/outside-component-usage.html for help.\\n` +\n                `This will fail in production.`);\n        }\n        pinia = activePinia;\n        if (!pinia._s.has(id)) {\n            // creating the store registers it in `pinia._s`\n            if (isSetupStore) {\n                createSetupStore(id, setup, options, pinia);\n            }\n            else {\n                createOptionsStore(id, options, pinia);\n            }\n            /* istanbul ignore else */\n            if ((process.env.NODE_ENV !== 'production')) {\n                // @ts-expect-error: not the right inferred type\n                useStore._pinia = pinia;\n            }\n        }\n        const store = pinia._s.get(id);\n        if ((process.env.NODE_ENV !== 'production') && hot) {\n            const hotId = '__hot:' + id;\n            const newStore = isSetupStore\n                ? createSetupStore(hotId, setup, options, pinia, true)\n                : createOptionsStore(hotId, assign({}, options), pinia, true);\n            hot._hotUpdate(newStore);\n            // cleanup the state properties and the store from the cache\n            delete pinia.state.value[hotId];\n            pinia._s.delete(hotId);\n        }\n        if ((process.env.NODE_ENV !== 'production') && IS_CLIENT) {\n            const currentInstance = getCurrentInstance();\n            // save stores in instances to access them devtools\n            if (currentInstance &&\n                currentInstance.proxy &&\n                // avoid adding stores that are just built for hot module replacement\n                !hot) {\n                const vm = currentInstance.proxy;\n                const cache = '_pStores' in vm ? vm._pStores : (vm._pStores = {});\n                cache[id] = store;\n            }\n        }\n        // StoreGeneric cannot be casted towards Store\n        return store;\n    }\n    useStore.$id = id;\n    return useStore;\n}\n\nlet mapStoreSuffix = 'Store';\n/**\n * Changes the suffix added by `mapStores()`. Can be set to an empty string.\n * Defaults to `\"Store\"`. Make sure to extend the MapStoresCustomization\n * interface if you are using TypeScript.\n *\n * @param suffix - new suffix\n */\nfunction setMapStoreSuffix(suffix // could be 'Store' but that would be annoying for JS\n) {\n    mapStoreSuffix = suffix;\n}\n/**\n * Allows using stores without the composition API (`setup()`) by generating an\n * object to be spread in the `computed` field of a component. It accepts a list\n * of store definitions.\n *\n * @example\n * ```js\n * export default {\n *   computed: {\n *     // other computed properties\n *     ...mapStores(useUserStore, useCartStore)\n *   },\n *\n *   created() {\n *     this.userStore // store with id \"user\"\n *     this.cartStore // store with id \"cart\"\n *   }\n * }\n * ```\n *\n * @param stores - list of stores to map to an object\n */\nfunction mapStores(...stores) {\n    if ((process.env.NODE_ENV !== 'production') && Array.isArray(stores[0])) {\n        console.warn(`[🍍]: Directly pass all stores to \"mapStores()\" without putting them in an array:\\n` +\n            `Replace\\n` +\n            `\\tmapStores([useAuthStore, useCartStore])\\n` +\n            `with\\n` +\n            `\\tmapStores(useAuthStore, useCartStore)\\n` +\n            `This will fail in production if not fixed.`);\n        stores = stores[0];\n    }\n    return stores.reduce((reduced, useStore) => {\n        // @ts-expect-error: $id is added by defineStore\n        reduced[useStore.$id + mapStoreSuffix] = function () {\n            return useStore(this.$pinia);\n        };\n        return reduced;\n    }, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapState(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            reduced[key] = function () {\n                // @ts-expect-error: FIXME: should work?\n                return useStore(this.$pinia)[key];\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function () {\n                const store = useStore(this.$pinia);\n                const storeKey = keysOrMapper[key];\n                // for some reason TS is unable to infer the type of storeKey to be a\n                // function\n                return typeof storeKey === 'function'\n                    ? storeKey.call(this, store)\n                    : // @ts-expect-error: FIXME: should work?\n                        store[storeKey];\n            };\n            return reduced;\n        }, {});\n}\n/**\n * Alias for `mapState()`. You should use `mapState()` instead.\n * @deprecated use `mapState()` instead.\n */\nconst mapGetters = mapState;\n/**\n * Allows directly using actions from your store without using the composition\n * API (`setup()`) by generating an object to be spread in the `methods` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapActions(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function (...args) {\n                // @ts-expect-error: FIXME: should work?\n                return useStore(this.$pinia)[key](...args);\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            // @ts-expect-error\n            reduced[key] = function (...args) {\n                // @ts-expect-error: FIXME: should work?\n                return useStore(this.$pinia)[keysOrMapper[key]](...args);\n            };\n            return reduced;\n        }, {});\n}\n/**\n * Allows using state and getters from one store without using the composition\n * API (`setup()`) by generating an object to be spread in the `computed` field\n * of a component.\n *\n * @param useStore - store to map from\n * @param keysOrMapper - array or object\n */\nfunction mapWritableState(useStore, keysOrMapper) {\n    return Array.isArray(keysOrMapper)\n        ? keysOrMapper.reduce((reduced, key) => {\n            reduced[key] = {\n                get() {\n                    return useStore(this.$pinia)[key];\n                },\n                set(value) {\n                    return (useStore(this.$pinia)[key] = value);\n                },\n            };\n            return reduced;\n        }, {})\n        : Object.keys(keysOrMapper).reduce((reduced, key) => {\n            reduced[key] = {\n                get() {\n                    return useStore(this.$pinia)[keysOrMapper[key]];\n                },\n                set(value) {\n                    return (useStore(this.$pinia)[keysOrMapper[key]] = value);\n                },\n            };\n            return reduced;\n        }, {});\n}\n\n/**\n * Creates an object of references with all the state, getters, and plugin-added\n * state properties of the store. Similar to `toRefs()` but specifically\n * designed for Pinia stores so methods and non reactive properties are\n * completely ignored.\n *\n * @param store - store to extract the refs from\n */\nfunction storeToRefs(store) {\n    // See https://github.com/vuejs/pinia/issues/852\n    // It's easier to just use toRefs() even if it includes more stuff\n    if (isVue2) {\n        // @ts-expect-error: toRefs include methods and others\n        return toRefs(store);\n    }\n    else {\n        const rawStore = toRaw(store);\n        const refs = {};\n        for (const key in rawStore) {\n            const value = rawStore[key];\n            // There is no native method to check for a computed\n            // https://github.com/vuejs/core/pull/4165\n            if (value.effect) {\n                // @ts-expect-error: too hard to type correctly\n                refs[key] =\n                    // ...\n                    computed({\n                        get: () => store[key],\n                        set(value) {\n                            store[key] = value;\n                        },\n                    });\n            }\n            else if (isRef(value) || isReactive(value)) {\n                // @ts-expect-error: the key is state or getter\n                refs[key] =\n                    // ---\n                    toRef(store, key);\n            }\n        }\n        return refs;\n    }\n}\n\n/**\n * Vue 2 Plugin that must be installed for pinia to work. Note **you don't need\n * this plugin if you are using Nuxt.js**. Use the `buildModule` instead:\n * https://pinia.vuejs.org/ssr/nuxt.html.\n *\n * @example\n * ```js\n * import Vue from 'vue'\n * import { PiniaVuePlugin, createPinia } from 'pinia'\n *\n * Vue.use(PiniaVuePlugin)\n * const pinia = createPinia()\n *\n * new Vue({\n *   el: '#app',\n *   // ...\n *   pinia,\n * })\n * ```\n *\n * @param _Vue - `Vue` imported from 'vue'.\n */\nconst PiniaVuePlugin = function (_Vue) {\n    // Equivalent of\n    // app.config.globalProperties.$pinia = pinia\n    _Vue.mixin({\n        beforeCreate() {\n            const options = this.$options;\n            if (options.pinia) {\n                const pinia = options.pinia;\n                // HACK: taken from provide(): https://github.com/vuejs/composition-api/blob/main/src/apis/inject.ts#L31\n                /* istanbul ignore else */\n                if (!this._provided) {\n                    const provideCache = {};\n                    Object.defineProperty(this, '_provided', {\n                        get: () => provideCache,\n                        set: (v) => Object.assign(provideCache, v),\n                    });\n                }\n                this._provided[piniaSymbol] = pinia;\n                // propagate the pinia instance in an SSR friendly way\n                // avoid adding it to nuxt twice\n                /* istanbul ignore else */\n                if (!this.$pinia) {\n                    this.$pinia = pinia;\n                }\n                pinia._a = this;\n                if (IS_CLIENT) {\n                    // this allows calling useStore() outside of a component setup after\n                    // installing pinia's plugin\n                    setActivePinia(pinia);\n                }\n                if ((((process.env.NODE_ENV !== 'production') || (typeof __VUE_PROD_DEVTOOLS__ !== 'undefined' && __VUE_PROD_DEVTOOLS__)) && !(process.env.NODE_ENV === 'test')) && IS_CLIENT) {\n                    registerPiniaDevtools(pinia._a, pinia);\n                }\n            }\n            else if (!this.$pinia && options.parent && options.parent.$pinia) {\n                this.$pinia = options.parent.$pinia;\n            }\n        },\n        destroyed() {\n            delete this._pStores;\n        },\n    });\n};\n\nexport { MutationType, PiniaVuePlugin, acceptHMRUpdate, createPinia, defineStore, disposePinia, getActivePinia, mapActions, mapGetters, mapState, mapStores, mapWritableState, setActivePinia, setMapStoreSuffix, shouldHydrate, skipHydrate, storeToRefs };\n","module.exports = require('./src/normalizeWheel.js');\n","/**\n * Copyright (c) 2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @providesModule normalizeWheel\n * @typechecks\n */\n\n'use strict';\n\nvar UserAgent_DEPRECATED = require('./UserAgent_DEPRECATED');\n\nvar isEventSupported = require('./isEventSupported');\n\n\n// Reasonable defaults\nvar PIXEL_STEP  = 10;\nvar LINE_HEIGHT = 40;\nvar PAGE_HEIGHT = 800;\n\n/**\n * Mouse wheel (and 2-finger trackpad) support on the web sucks.  It is\n * complicated, thus this doc is long and (hopefully) detailed enough to answer\n * your questions.\n *\n * If you need to react to the mouse wheel in a predictable way, this code is\n * like your bestest friend. * hugs *\n *\n * As of today, there are 4 DOM event types you can listen to:\n *\n *   'wheel'                -- Chrome(31+), FF(17+), IE(9+)\n *   'mousewheel'           -- Chrome, IE(6+), Opera, Safari\n *   'MozMousePixelScroll'  -- FF(3.5 only!) (2010-2013) -- don't bother!\n *   'DOMMouseScroll'       -- FF(0.9.7+) since 2003\n *\n * So what to do?  The is the best:\n *\n *   normalizeWheel.getEventType();\n *\n * In your event callback, use this code to get sane interpretation of the\n * deltas.  This code will return an object with properties:\n *\n *   spinX   -- normalized spin speed (use for zoom) - x plane\n *   spinY   -- \" - y plane\n *   pixelX  -- normalized distance (to pixels) - x plane\n *   pixelY  -- \" - y plane\n *\n * Wheel values are provided by the browser assuming you are using the wheel to\n * scroll a web page by a number of lines or pixels (or pages).  Values can vary\n * significantly on different platforms and browsers, forgetting that you can\n * scroll at different speeds.  Some devices (like trackpads) emit more events\n * at smaller increments with fine granularity, and some emit massive jumps with\n * linear speed or acceleration.\n *\n * This code does its best to normalize the deltas for you:\n *\n *   - spin is trying to normalize how far the wheel was spun (or trackpad\n *     dragged).  This is super useful for zoom support where you want to\n *     throw away the chunky scroll steps on the PC and make those equal to\n *     the slow and smooth tiny steps on the Mac. Key data: This code tries to\n *     resolve a single slow step on a wheel to 1.\n *\n *   - pixel is normalizing the desired scroll delta in pixel units.  You'll\n *     get the crazy differences between browsers, but at least it'll be in\n *     pixels!\n *\n *   - positive value indicates scrolling DOWN/RIGHT, negative UP/LEFT.  This\n *     should translate to positive value zooming IN, negative zooming OUT.\n *     This matches the newer 'wheel' event.\n *\n * Why are there spinX, spinY (or pixels)?\n *\n *   - spinX is a 2-finger side drag on the trackpad, and a shift + wheel turn\n *     with a mouse.  It results in side-scrolling in the browser by default.\n *\n *   - spinY is what you expect -- it's the classic axis of a mouse wheel.\n *\n *   - I dropped spinZ/pixelZ.  It is supported by the DOM 3 'wheel' event and\n *     probably is by browsers in conjunction with fancy 3D controllers .. but\n *     you know.\n *\n * Implementation info:\n *\n * Examples of 'wheel' event if you scroll slowly (down) by one step with an\n * average mouse:\n *\n *   OS X + Chrome  (mouse)     -    4   pixel delta  (wheelDelta -120)\n *   OS X + Safari  (mouse)     -  N/A   pixel delta  (wheelDelta  -12)\n *   OS X + Firefox (mouse)     -    0.1 line  delta  (wheelDelta  N/A)\n *   Win8 + Chrome  (mouse)     -  100   pixel delta  (wheelDelta -120)\n *   Win8 + Firefox (mouse)     -    3   line  delta  (wheelDelta -120)\n *\n * On the trackpad:\n *\n *   OS X + Chrome  (trackpad)  -    2   pixel delta  (wheelDelta   -6)\n *   OS X + Firefox (trackpad)  -    1   pixel delta  (wheelDelta  N/A)\n *\n * On other/older browsers.. it's more complicated as there can be multiple and\n * also missing delta values.\n *\n * The 'wheel' event is more standard:\n *\n * http://www.w3.org/TR/DOM-Level-3-Events/#events-wheelevents\n *\n * The basics is that it includes a unit, deltaMode (pixels, lines, pages), and\n * deltaX, deltaY and deltaZ.  Some browsers provide other values to maintain\n * backward compatibility with older events.  Those other values help us\n * better normalize spin speed.  Example of what the browsers provide:\n *\n *                          | event.wheelDelta | event.detail\n *        ------------------+------------------+--------------\n *          Safari v5/OS X  |       -120       |       0\n *          Safari v5/Win7  |       -120       |       0\n *         Chrome v17/OS X  |       -120       |       0\n *         Chrome v17/Win7  |       -120       |       0\n *                IE9/Win7  |       -120       |   undefined\n *         Firefox v4/OS X  |     undefined    |       1\n *         Firefox v4/Win7  |     undefined    |       3\n *\n */\nfunction normalizeWheel(/*object*/ event) /*object*/ {\n  var sX = 0, sY = 0,       // spinX, spinY\n      pX = 0, pY = 0;       // pixelX, pixelY\n\n  // Legacy\n  if ('detail'      in event) { sY = event.detail; }\n  if ('wheelDelta'  in event) { sY = -event.wheelDelta / 120; }\n  if ('wheelDeltaY' in event) { sY = -event.wheelDeltaY / 120; }\n  if ('wheelDeltaX' in event) { sX = -event.wheelDeltaX / 120; }\n\n  // side scrolling on FF with DOMMouseScroll\n  if ( 'axis' in event && event.axis === event.HORIZONTAL_AXIS ) {\n    sX = sY;\n    sY = 0;\n  }\n\n  pX = sX * PIXEL_STEP;\n  pY = sY * PIXEL_STEP;\n\n  if ('deltaY' in event) { pY = event.deltaY; }\n  if ('deltaX' in event) { pX = event.deltaX; }\n\n  if ((pX || pY) && event.deltaMode) {\n    if (event.deltaMode == 1) {          // delta in LINE units\n      pX *= LINE_HEIGHT;\n      pY *= LINE_HEIGHT;\n    } else {                             // delta in PAGE units\n      pX *= PAGE_HEIGHT;\n      pY *= PAGE_HEIGHT;\n    }\n  }\n\n  // Fall-back if spin cannot be determined\n  if (pX && !sX) { sX = (pX < 1) ? -1 : 1; }\n  if (pY && !sY) { sY = (pY < 1) ? -1 : 1; }\n\n  return { spinX  : sX,\n           spinY  : sY,\n           pixelX : pX,\n           pixelY : pY };\n}\n\n\n/**\n * The best combination if you prefer spinX + spinY normalization.  It favors\n * the older DOMMouseScroll for Firefox, as FF does not include wheelDelta with\n * 'wheel' event, making spin speed determination impossible.\n */\nnormalizeWheel.getEventType = function() /*string*/ {\n  return (UserAgent_DEPRECATED.firefox())\n           ? 'DOMMouseScroll'\n           : (isEventSupported('wheel'))\n               ? 'wheel'\n               : 'mousewheel';\n};\n\nmodule.exports = normalizeWheel;\n","import { parse } from \"engine.io-client\";\n/**\n * URL parser.\n *\n * @param uri - url\n * @param path - the request path of the connection\n * @param loc - An object meant to mimic window.location.\n *        Defaults to window.location.\n * @public\n */\nexport function url(uri, path = \"\", loc) {\n    let obj = uri;\n    // default to window.location\n    loc = loc || (typeof location !== \"undefined\" && location);\n    if (null == uri)\n        uri = loc.protocol + \"//\" + loc.host;\n    // relative path support\n    if (typeof uri === \"string\") {\n        if (\"/\" === uri.charAt(0)) {\n            if (\"/\" === uri.charAt(1)) {\n                uri = loc.protocol + uri;\n            }\n            else {\n                uri = loc.host + uri;\n            }\n        }\n        if (!/^(https?|wss?):\\/\\//.test(uri)) {\n            if (\"undefined\" !== typeof loc) {\n                uri = loc.protocol + \"//\" + uri;\n            }\n            else {\n                uri = \"https://\" + uri;\n            }\n        }\n        // parse\n        obj = parse(uri);\n    }\n    // make sure we treat `localhost:80` and `localhost` equally\n    if (!obj.port) {\n        if (/^(http|ws)$/.test(obj.protocol)) {\n            obj.port = \"80\";\n        }\n        else if (/^(http|ws)s$/.test(obj.protocol)) {\n            obj.port = \"443\";\n        }\n    }\n    obj.path = obj.path || \"/\";\n    const ipv6 = obj.host.indexOf(\":\") !== -1;\n    const host = ipv6 ? \"[\" + obj.host + \"]\" : obj.host;\n    // define unique id\n    obj.id = obj.protocol + \"://\" + host + \":\" + obj.port + path;\n    // define href\n    obj.href =\n        obj.protocol +\n            \"://\" +\n            host +\n            (loc && loc.port === obj.port ? \"\" : \":\" + obj.port);\n    return obj;\n}\n","const withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst isView = (obj) => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj.buffer instanceof ArrayBuffer;\n};\nconst toString = Object.prototype.toString;\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeFile = typeof File === \"function\" ||\n    (typeof File !== \"undefined\" &&\n        toString.call(File) === \"[object FileConstructor]\");\n/**\n * Returns true if obj is a Buffer, an ArrayBuffer, a Blob or a File.\n *\n * @private\n */\nexport function isBinary(obj) {\n    return ((withNativeArrayBuffer && (obj instanceof ArrayBuffer || isView(obj))) ||\n        (withNativeBlob && obj instanceof Blob) ||\n        (withNativeFile && obj instanceof File));\n}\nexport function hasBinary(obj, toJSON) {\n    if (!obj || typeof obj !== \"object\") {\n        return false;\n    }\n    if (Array.isArray(obj)) {\n        for (let i = 0, l = obj.length; i < l; i++) {\n            if (hasBinary(obj[i])) {\n                return true;\n            }\n        }\n        return false;\n    }\n    if (isBinary(obj)) {\n        return true;\n    }\n    if (obj.toJSON &&\n        typeof obj.toJSON === \"function\" &&\n        arguments.length === 1) {\n        return hasBinary(obj.toJSON(), true);\n    }\n    for (const key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key) && hasBinary(obj[key])) {\n            return true;\n        }\n    }\n    return false;\n}\n","import { isBinary } from \"./is-binary.js\";\n/**\n * Replaces every Buffer | ArrayBuffer | Blob | File in packet with a numbered placeholder.\n *\n * @param {Object} packet - socket.io event packet\n * @return {Object} with deconstructed packet and list of buffers\n * @public\n */\nexport function deconstructPacket(packet) {\n    const buffers = [];\n    const packetData = packet.data;\n    const pack = packet;\n    pack.data = _deconstructPacket(packetData, buffers);\n    pack.attachments = buffers.length; // number of binary 'attachments'\n    return { packet: pack, buffers: buffers };\n}\nfunction _deconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (isBinary(data)) {\n        const placeholder = { _placeholder: true, num: buffers.length };\n        buffers.push(data);\n        return placeholder;\n    }\n    else if (Array.isArray(data)) {\n        const newData = new Array(data.length);\n        for (let i = 0; i < data.length; i++) {\n            newData[i] = _deconstructPacket(data[i], buffers);\n        }\n        return newData;\n    }\n    else if (typeof data === \"object\" && !(data instanceof Date)) {\n        const newData = {};\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                newData[key] = _deconstructPacket(data[key], buffers);\n            }\n        }\n        return newData;\n    }\n    return data;\n}\n/**\n * Reconstructs a binary packet from its placeholder packet and buffers\n *\n * @param {Object} packet - event packet with placeholders\n * @param {Array} buffers - binary buffers to put in placeholder positions\n * @return {Object} reconstructed packet\n * @public\n */\nexport function reconstructPacket(packet, buffers) {\n    packet.data = _reconstructPacket(packet.data, buffers);\n    delete packet.attachments; // no longer useful\n    return packet;\n}\nfunction _reconstructPacket(data, buffers) {\n    if (!data)\n        return data;\n    if (data && data._placeholder === true) {\n        const isIndexValid = typeof data.num === \"number\" &&\n            data.num >= 0 &&\n            data.num < buffers.length;\n        if (isIndexValid) {\n            return buffers[data.num]; // appropriate buffer (should be natural order anyway)\n        }\n        else {\n            throw new Error(\"illegal attachments\");\n        }\n    }\n    else if (Array.isArray(data)) {\n        for (let i = 0; i < data.length; i++) {\n            data[i] = _reconstructPacket(data[i], buffers);\n        }\n    }\n    else if (typeof data === \"object\") {\n        for (const key in data) {\n            if (Object.prototype.hasOwnProperty.call(data, key)) {\n                data[key] = _reconstructPacket(data[key], buffers);\n            }\n        }\n    }\n    return data;\n}\n","import { Emitter } from \"@socket.io/component-emitter\";\nimport { deconstructPacket, reconstructPacket } from \"./binary.js\";\nimport { isBinary, hasBinary } from \"./is-binary.js\";\n/**\n * These strings must not be used as event names, as they have a special meaning.\n */\nconst RESERVED_EVENTS = [\n    \"connect\",\n    \"connect_error\",\n    \"disconnect\",\n    \"disconnecting\",\n    \"newListener\",\n    \"removeListener\", // used by the Node.js EventEmitter\n];\n/**\n * Protocol version.\n *\n * @public\n */\nexport const protocol = 5;\nexport var PacketType;\n(function (PacketType) {\n    PacketType[PacketType[\"CONNECT\"] = 0] = \"CONNECT\";\n    PacketType[PacketType[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    PacketType[PacketType[\"EVENT\"] = 2] = \"EVENT\";\n    PacketType[PacketType[\"ACK\"] = 3] = \"ACK\";\n    PacketType[PacketType[\"CONNECT_ERROR\"] = 4] = \"CONNECT_ERROR\";\n    PacketType[PacketType[\"BINARY_EVENT\"] = 5] = \"BINARY_EVENT\";\n    PacketType[PacketType[\"BINARY_ACK\"] = 6] = \"BINARY_ACK\";\n})(PacketType || (PacketType = {}));\n/**\n * A socket.io Encoder instance\n */\nexport class Encoder {\n    /**\n     * Encoder constructor\n     *\n     * @param {function} replacer - custom replacer to pass down to JSON.parse\n     */\n    constructor(replacer) {\n        this.replacer = replacer;\n    }\n    /**\n     * Encode a packet as a single string if non-binary, or as a\n     * buffer sequence, depending on packet type.\n     *\n     * @param {Object} obj - packet object\n     */\n    encode(obj) {\n        if (obj.type === PacketType.EVENT || obj.type === PacketType.ACK) {\n            if (hasBinary(obj)) {\n                return this.encodeAsBinary({\n                    type: obj.type === PacketType.EVENT\n                        ? PacketType.BINARY_EVENT\n                        : PacketType.BINARY_ACK,\n                    nsp: obj.nsp,\n                    data: obj.data,\n                    id: obj.id,\n                });\n            }\n        }\n        return [this.encodeAsString(obj)];\n    }\n    /**\n     * Encode packet as string.\n     */\n    encodeAsString(obj) {\n        // first is type\n        let str = \"\" + obj.type;\n        // attachments if we have them\n        if (obj.type === PacketType.BINARY_EVENT ||\n            obj.type === PacketType.BINARY_ACK) {\n            str += obj.attachments + \"-\";\n        }\n        // if we have a namespace other than `/`\n        // we append it followed by a comma `,`\n        if (obj.nsp && \"/\" !== obj.nsp) {\n            str += obj.nsp + \",\";\n        }\n        // immediately followed by the id\n        if (null != obj.id) {\n            str += obj.id;\n        }\n        // json data\n        if (null != obj.data) {\n            str += JSON.stringify(obj.data, this.replacer);\n        }\n        return str;\n    }\n    /**\n     * Encode packet as 'buffer sequence' by removing blobs, and\n     * deconstructing packet into object with placeholders and\n     * a list of buffers.\n     */\n    encodeAsBinary(obj) {\n        const deconstruction = deconstructPacket(obj);\n        const pack = this.encodeAsString(deconstruction.packet);\n        const buffers = deconstruction.buffers;\n        buffers.unshift(pack); // add packet info to beginning of data list\n        return buffers; // write all the buffers\n    }\n}\n// see https://stackoverflow.com/questions/8511281/check-if-a-value-is-an-object-in-javascript\nfunction isObject(value) {\n    return Object.prototype.toString.call(value) === \"[object Object]\";\n}\n/**\n * A socket.io Decoder instance\n *\n * @return {Object} decoder\n */\nexport class Decoder extends Emitter {\n    /**\n     * Decoder constructor\n     *\n     * @param {function} reviver - custom reviver to pass down to JSON.stringify\n     */\n    constructor(reviver) {\n        super();\n        this.reviver = reviver;\n    }\n    /**\n     * Decodes an encoded packet string into packet JSON.\n     *\n     * @param {String} obj - encoded packet\n     */\n    add(obj) {\n        let packet;\n        if (typeof obj === \"string\") {\n            if (this.reconstructor) {\n                throw new Error(\"got plaintext data when reconstructing a packet\");\n            }\n            packet = this.decodeString(obj);\n            const isBinaryEvent = packet.type === PacketType.BINARY_EVENT;\n            if (isBinaryEvent || packet.type === PacketType.BINARY_ACK) {\n                packet.type = isBinaryEvent ? PacketType.EVENT : PacketType.ACK;\n                // binary packet's json\n                this.reconstructor = new BinaryReconstructor(packet);\n                // no attachments, labeled binary but no binary data to follow\n                if (packet.attachments === 0) {\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n            else {\n                // non-binary full packet\n                super.emitReserved(\"decoded\", packet);\n            }\n        }\n        else if (isBinary(obj) || obj.base64) {\n            // raw binary data\n            if (!this.reconstructor) {\n                throw new Error(\"got binary data when not reconstructing a packet\");\n            }\n            else {\n                packet = this.reconstructor.takeBinaryData(obj);\n                if (packet) {\n                    // received final buffer\n                    this.reconstructor = null;\n                    super.emitReserved(\"decoded\", packet);\n                }\n            }\n        }\n        else {\n            throw new Error(\"Unknown type: \" + obj);\n        }\n    }\n    /**\n     * Decode a packet String (JSON data)\n     *\n     * @param {String} str\n     * @return {Object} packet\n     */\n    decodeString(str) {\n        let i = 0;\n        // look up type\n        const p = {\n            type: Number(str.charAt(0)),\n        };\n        if (PacketType[p.type] === undefined) {\n            throw new Error(\"unknown packet type \" + p.type);\n        }\n        // look up attachments if type binary\n        if (p.type === PacketType.BINARY_EVENT ||\n            p.type === PacketType.BINARY_ACK) {\n            const start = i + 1;\n            while (str.charAt(++i) !== \"-\" && i != str.length) { }\n            const buf = str.substring(start, i);\n            if (buf != Number(buf) || str.charAt(i) !== \"-\") {\n                throw new Error(\"Illegal attachments\");\n            }\n            p.attachments = Number(buf);\n        }\n        // look up namespace (if any)\n        if (\"/\" === str.charAt(i + 1)) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (\",\" === c)\n                    break;\n                if (i === str.length)\n                    break;\n            }\n            p.nsp = str.substring(start, i);\n        }\n        else {\n            p.nsp = \"/\";\n        }\n        // look up id\n        const next = str.charAt(i + 1);\n        if (\"\" !== next && Number(next) == next) {\n            const start = i + 1;\n            while (++i) {\n                const c = str.charAt(i);\n                if (null == c || Number(c) != c) {\n                    --i;\n                    break;\n                }\n                if (i === str.length)\n                    break;\n            }\n            p.id = Number(str.substring(start, i + 1));\n        }\n        // look up json data\n        if (str.charAt(++i)) {\n            const payload = this.tryParse(str.substr(i));\n            if (Decoder.isPayloadValid(p.type, payload)) {\n                p.data = payload;\n            }\n            else {\n                throw new Error(\"invalid payload\");\n            }\n        }\n        return p;\n    }\n    tryParse(str) {\n        try {\n            return JSON.parse(str, this.reviver);\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    static isPayloadValid(type, payload) {\n        switch (type) {\n            case PacketType.CONNECT:\n                return isObject(payload);\n            case PacketType.DISCONNECT:\n                return payload === undefined;\n            case PacketType.CONNECT_ERROR:\n                return typeof payload === \"string\" || isObject(payload);\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                return (Array.isArray(payload) &&\n                    (typeof payload[0] === \"number\" ||\n                        (typeof payload[0] === \"string\" &&\n                            RESERVED_EVENTS.indexOf(payload[0]) === -1)));\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                return Array.isArray(payload);\n        }\n    }\n    /**\n     * Deallocates a parser's resources\n     */\n    destroy() {\n        if (this.reconstructor) {\n            this.reconstructor.finishedReconstruction();\n            this.reconstructor = null;\n        }\n    }\n}\n/**\n * A manager of a binary event's 'buffer sequence'. Should\n * be constructed whenever a packet of type BINARY_EVENT is\n * decoded.\n *\n * @param {Object} packet\n * @return {BinaryReconstructor} initialized reconstructor\n */\nclass BinaryReconstructor {\n    constructor(packet) {\n        this.packet = packet;\n        this.buffers = [];\n        this.reconPack = packet;\n    }\n    /**\n     * Method to be called when binary data received from connection\n     * after a BINARY_EVENT packet.\n     *\n     * @param {Buffer | ArrayBuffer} binData - the raw binary data received\n     * @return {null | Object} returns null if more binary data is expected or\n     *   a reconstructed packet object if all buffers have been received.\n     */\n    takeBinaryData(binData) {\n        this.buffers.push(binData);\n        if (this.buffers.length === this.reconPack.attachments) {\n            // done with buffer list\n            const packet = reconstructPacket(this.reconPack, this.buffers);\n            this.finishedReconstruction();\n            return packet;\n        }\n        return null;\n    }\n    /**\n     * Cleans up binary packet reconstruction variables.\n     */\n    finishedReconstruction() {\n        this.reconPack = null;\n        this.buffers = [];\n    }\n}\n","export function on(obj, ev, fn) {\n    obj.on(ev, fn);\n    return function subDestroy() {\n        obj.off(ev, fn);\n    };\n}\n","import { PacketType } from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\n/**\n * Internal events.\n * These events can't be emitted by the user.\n */\nconst RESERVED_EVENTS = Object.freeze({\n    connect: 1,\n    connect_error: 1,\n    disconnect: 1,\n    disconnecting: 1,\n    // EventEmitter reserved events: https://nodejs.org/api/events.html#events_event_newlistener\n    newListener: 1,\n    removeListener: 1,\n});\n/**\n * A Socket is the fundamental class for interacting with the server.\n *\n * A Socket belongs to a certain Namespace (by default /) and uses an underlying {@link Manager} to communicate.\n *\n * @example\n * const socket = io();\n *\n * socket.on(\"connect\", () => {\n *   console.log(\"connected\");\n * });\n *\n * // send an event to the server\n * socket.emit(\"foo\", \"bar\");\n *\n * socket.on(\"foobar\", () => {\n *   // an event was received from the server\n * });\n *\n * // upon disconnection\n * socket.on(\"disconnect\", (reason) => {\n *   console.log(`disconnected due to ${reason}`);\n * });\n */\nexport class Socket extends Emitter {\n    /**\n     * `Socket` constructor.\n     */\n    constructor(io, nsp, opts) {\n        super();\n        /**\n         * Whether the socket is currently connected to the server.\n         *\n         * @example\n         * const socket = io();\n         *\n         * socket.on(\"connect\", () => {\n         *   console.log(socket.connected); // true\n         * });\n         *\n         * socket.on(\"disconnect\", () => {\n         *   console.log(socket.connected); // false\n         * });\n         */\n        this.connected = false;\n        /**\n         * Whether the connection state was recovered after a temporary disconnection. In that case, any missed packets will\n         * be transmitted by the server.\n         */\n        this.recovered = false;\n        /**\n         * Buffer for packets received before the CONNECT packet\n         */\n        this.receiveBuffer = [];\n        /**\n         * Buffer for packets that will be sent once the socket is connected\n         */\n        this.sendBuffer = [];\n        /**\n         * The queue of packets to be sent with retry in case of failure.\n         *\n         * Packets are sent one by one, each waiting for the server acknowledgement, in order to guarantee the delivery order.\n         * @private\n         */\n        this._queue = [];\n        /**\n         * A sequence to generate the ID of the {@link QueuedPacket}.\n         * @private\n         */\n        this._queueSeq = 0;\n        this.ids = 0;\n        /**\n         * A map containing acknowledgement handlers.\n         *\n         * The `withError` attribute is used to differentiate handlers that accept an error as first argument:\n         *\n         * - `socket.emit(\"test\", (err, value) => { ... })` with `ackTimeout` option\n         * - `socket.timeout(5000).emit(\"test\", (err, value) => { ... })`\n         * - `const value = await socket.emitWithAck(\"test\")`\n         *\n         * From those that don't:\n         *\n         * - `socket.emit(\"test\", (value) => { ... });`\n         *\n         * In the first case, the handlers will be called with an error when:\n         *\n         * - the timeout is reached\n         * - the socket gets disconnected\n         *\n         * In the second case, the handlers will be simply discarded upon disconnection, since the client will never receive\n         * an acknowledgement from the server.\n         *\n         * @private\n         */\n        this.acks = {};\n        this.flags = {};\n        this.io = io;\n        this.nsp = nsp;\n        if (opts && opts.auth) {\n            this.auth = opts.auth;\n        }\n        this._opts = Object.assign({}, opts);\n        if (this.io._autoConnect)\n            this.open();\n    }\n    /**\n     * Whether the socket is currently disconnected\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"connect\", () => {\n     *   console.log(socket.disconnected); // false\n     * });\n     *\n     * socket.on(\"disconnect\", () => {\n     *   console.log(socket.disconnected); // true\n     * });\n     */\n    get disconnected() {\n        return !this.connected;\n    }\n    /**\n     * Subscribe to open, close and packet events\n     *\n     * @private\n     */\n    subEvents() {\n        if (this.subs)\n            return;\n        const io = this.io;\n        this.subs = [\n            on(io, \"open\", this.onopen.bind(this)),\n            on(io, \"packet\", this.onpacket.bind(this)),\n            on(io, \"error\", this.onerror.bind(this)),\n            on(io, \"close\", this.onclose.bind(this)),\n        ];\n    }\n    /**\n     * Whether the Socket will try to reconnect when its Manager connects or reconnects.\n     *\n     * @example\n     * const socket = io();\n     *\n     * console.log(socket.active); // true\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   if (reason === \"io server disconnect\") {\n     *     // the disconnection was initiated by the server, you need to manually reconnect\n     *     console.log(socket.active); // false\n     *   }\n     *   // else the socket will automatically try to reconnect\n     *   console.log(socket.active); // true\n     * });\n     */\n    get active() {\n        return !!this.subs;\n    }\n    /**\n     * \"Opens\" the socket.\n     *\n     * @example\n     * const socket = io({\n     *   autoConnect: false\n     * });\n     *\n     * socket.connect();\n     */\n    connect() {\n        if (this.connected)\n            return this;\n        this.subEvents();\n        if (!this.io[\"_reconnecting\"])\n            this.io.open(); // ensure open\n        if (\"open\" === this.io._readyState)\n            this.onopen();\n        return this;\n    }\n    /**\n     * Alias for {@link connect()}.\n     */\n    open() {\n        return this.connect();\n    }\n    /**\n     * Sends a `message` event.\n     *\n     * This method mimics the WebSocket.send() method.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send\n     *\n     * @example\n     * socket.send(\"hello\");\n     *\n     * // this is equivalent to\n     * socket.emit(\"message\", \"hello\");\n     *\n     * @return self\n     */\n    send(...args) {\n        args.unshift(\"message\");\n        this.emit.apply(this, args);\n        return this;\n    }\n    /**\n     * Override `emit`.\n     * If the event is in `events`, it's emitted normally.\n     *\n     * @example\n     * socket.emit(\"hello\", \"world\");\n     *\n     * // all serializable datastructures are supported (no need to call JSON.stringify)\n     * socket.emit(\"hello\", 1, \"2\", { 3: [\"4\"], 5: Uint8Array.from([6]) });\n     *\n     * // with an acknowledgement from the server\n     * socket.emit(\"hello\", \"world\", (val) => {\n     *   // ...\n     * });\n     *\n     * @return self\n     */\n    emit(ev, ...args) {\n        var _a, _b, _c;\n        if (RESERVED_EVENTS.hasOwnProperty(ev)) {\n            throw new Error('\"' + ev.toString() + '\" is a reserved event name');\n        }\n        args.unshift(ev);\n        if (this._opts.retries && !this.flags.fromQueue && !this.flags.volatile) {\n            this._addToQueue(args);\n            return this;\n        }\n        const packet = {\n            type: PacketType.EVENT,\n            data: args,\n        };\n        packet.options = {};\n        packet.options.compress = this.flags.compress !== false;\n        // event ack callback\n        if (\"function\" === typeof args[args.length - 1]) {\n            const id = this.ids++;\n            const ack = args.pop();\n            this._registerAckCallback(id, ack);\n            packet.id = id;\n        }\n        const isTransportWritable = (_b = (_a = this.io.engine) === null || _a === void 0 ? void 0 : _a.transport) === null || _b === void 0 ? void 0 : _b.writable;\n        const isConnected = this.connected && !((_c = this.io.engine) === null || _c === void 0 ? void 0 : _c._hasPingExpired());\n        const discardPacket = this.flags.volatile && !isTransportWritable;\n        if (discardPacket) {\n        }\n        else if (isConnected) {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        }\n        else {\n            this.sendBuffer.push(packet);\n        }\n        this.flags = {};\n        return this;\n    }\n    /**\n     * @private\n     */\n    _registerAckCallback(id, ack) {\n        var _a;\n        const timeout = (_a = this.flags.timeout) !== null && _a !== void 0 ? _a : this._opts.ackTimeout;\n        if (timeout === undefined) {\n            this.acks[id] = ack;\n            return;\n        }\n        // @ts-ignore\n        const timer = this.io.setTimeoutFn(() => {\n            delete this.acks[id];\n            for (let i = 0; i < this.sendBuffer.length; i++) {\n                if (this.sendBuffer[i].id === id) {\n                    this.sendBuffer.splice(i, 1);\n                }\n            }\n            ack.call(this, new Error(\"operation has timed out\"));\n        }, timeout);\n        const fn = (...args) => {\n            // @ts-ignore\n            this.io.clearTimeoutFn(timer);\n            ack.apply(this, args);\n        };\n        fn.withError = true;\n        this.acks[id] = fn;\n    }\n    /**\n     * Emits an event and waits for an acknowledgement\n     *\n     * @example\n     * // without timeout\n     * const response = await socket.emitWithAck(\"hello\", \"world\");\n     *\n     * // with a specific timeout\n     * try {\n     *   const response = await socket.timeout(1000).emitWithAck(\"hello\", \"world\");\n     * } catch (err) {\n     *   // the server did not acknowledge the event in the given delay\n     * }\n     *\n     * @return a Promise that will be fulfilled when the server acknowledges the event\n     */\n    emitWithAck(ev, ...args) {\n        return new Promise((resolve, reject) => {\n            const fn = (arg1, arg2) => {\n                return arg1 ? reject(arg1) : resolve(arg2);\n            };\n            fn.withError = true;\n            args.push(fn);\n            this.emit(ev, ...args);\n        });\n    }\n    /**\n     * Add the packet to the queue.\n     * @param args\n     * @private\n     */\n    _addToQueue(args) {\n        let ack;\n        if (typeof args[args.length - 1] === \"function\") {\n            ack = args.pop();\n        }\n        const packet = {\n            id: this._queueSeq++,\n            tryCount: 0,\n            pending: false,\n            args,\n            flags: Object.assign({ fromQueue: true }, this.flags),\n        };\n        args.push((err, ...responseArgs) => {\n            if (packet !== this._queue[0]) {\n                // the packet has already been acknowledged\n                return;\n            }\n            const hasError = err !== null;\n            if (hasError) {\n                if (packet.tryCount > this._opts.retries) {\n                    this._queue.shift();\n                    if (ack) {\n                        ack(err);\n                    }\n                }\n            }\n            else {\n                this._queue.shift();\n                if (ack) {\n                    ack(null, ...responseArgs);\n                }\n            }\n            packet.pending = false;\n            return this._drainQueue();\n        });\n        this._queue.push(packet);\n        this._drainQueue();\n    }\n    /**\n     * Send the first packet of the queue, and wait for an acknowledgement from the server.\n     * @param force - whether to resend a packet that has not been acknowledged yet\n     *\n     * @private\n     */\n    _drainQueue(force = false) {\n        if (!this.connected || this._queue.length === 0) {\n            return;\n        }\n        const packet = this._queue[0];\n        if (packet.pending && !force) {\n            return;\n        }\n        packet.pending = true;\n        packet.tryCount++;\n        this.flags = packet.flags;\n        this.emit.apply(this, packet.args);\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param packet\n     * @private\n     */\n    packet(packet) {\n        packet.nsp = this.nsp;\n        this.io._packet(packet);\n    }\n    /**\n     * Called upon engine `open`.\n     *\n     * @private\n     */\n    onopen() {\n        if (typeof this.auth == \"function\") {\n            this.auth((data) => {\n                this._sendConnectPacket(data);\n            });\n        }\n        else {\n            this._sendConnectPacket(this.auth);\n        }\n    }\n    /**\n     * Sends a CONNECT packet to initiate the Socket.IO session.\n     *\n     * @param data\n     * @private\n     */\n    _sendConnectPacket(data) {\n        this.packet({\n            type: PacketType.CONNECT,\n            data: this._pid\n                ? Object.assign({ pid: this._pid, offset: this._lastOffset }, data)\n                : data,\n        });\n    }\n    /**\n     * Called upon engine or manager `error`.\n     *\n     * @param err\n     * @private\n     */\n    onerror(err) {\n        if (!this.connected) {\n            this.emitReserved(\"connect_error\", err);\n        }\n    }\n    /**\n     * Called upon engine `close`.\n     *\n     * @param reason\n     * @param description\n     * @private\n     */\n    onclose(reason, description) {\n        this.connected = false;\n        delete this.id;\n        this.emitReserved(\"disconnect\", reason, description);\n        this._clearAcks();\n    }\n    /**\n     * Clears the acknowledgement handlers upon disconnection, since the client will never receive an acknowledgement from\n     * the server.\n     *\n     * @private\n     */\n    _clearAcks() {\n        Object.keys(this.acks).forEach((id) => {\n            const isBuffered = this.sendBuffer.some((packet) => String(packet.id) === id);\n            if (!isBuffered) {\n                // note: handlers that do not accept an error as first argument are ignored here\n                const ack = this.acks[id];\n                delete this.acks[id];\n                if (ack.withError) {\n                    ack.call(this, new Error(\"socket has been disconnected\"));\n                }\n            }\n        });\n    }\n    /**\n     * Called with socket packet.\n     *\n     * @param packet\n     * @private\n     */\n    onpacket(packet) {\n        const sameNamespace = packet.nsp === this.nsp;\n        if (!sameNamespace)\n            return;\n        switch (packet.type) {\n            case PacketType.CONNECT:\n                if (packet.data && packet.data.sid) {\n                    this.onconnect(packet.data.sid, packet.data.pid);\n                }\n                else {\n                    this.emitReserved(\"connect_error\", new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));\n                }\n                break;\n            case PacketType.EVENT:\n            case PacketType.BINARY_EVENT:\n                this.onevent(packet);\n                break;\n            case PacketType.ACK:\n            case PacketType.BINARY_ACK:\n                this.onack(packet);\n                break;\n            case PacketType.DISCONNECT:\n                this.ondisconnect();\n                break;\n            case PacketType.CONNECT_ERROR:\n                this.destroy();\n                const err = new Error(packet.data.message);\n                // @ts-ignore\n                err.data = packet.data.data;\n                this.emitReserved(\"connect_error\", err);\n                break;\n        }\n    }\n    /**\n     * Called upon a server event.\n     *\n     * @param packet\n     * @private\n     */\n    onevent(packet) {\n        const args = packet.data || [];\n        if (null != packet.id) {\n            args.push(this.ack(packet.id));\n        }\n        if (this.connected) {\n            this.emitEvent(args);\n        }\n        else {\n            this.receiveBuffer.push(Object.freeze(args));\n        }\n    }\n    emitEvent(args) {\n        if (this._anyListeners && this._anyListeners.length) {\n            const listeners = this._anyListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, args);\n            }\n        }\n        super.emit.apply(this, args);\n        if (this._pid && args.length && typeof args[args.length - 1] === \"string\") {\n            this._lastOffset = args[args.length - 1];\n        }\n    }\n    /**\n     * Produces an ack callback to emit with an event.\n     *\n     * @private\n     */\n    ack(id) {\n        const self = this;\n        let sent = false;\n        return function (...args) {\n            // prevent double callbacks\n            if (sent)\n                return;\n            sent = true;\n            self.packet({\n                type: PacketType.ACK,\n                id: id,\n                data: args,\n            });\n        };\n    }\n    /**\n     * Called upon a server acknowledgement.\n     *\n     * @param packet\n     * @private\n     */\n    onack(packet) {\n        const ack = this.acks[packet.id];\n        if (typeof ack !== \"function\") {\n            return;\n        }\n        delete this.acks[packet.id];\n        // @ts-ignore FIXME ack is incorrectly inferred as 'never'\n        if (ack.withError) {\n            packet.data.unshift(null);\n        }\n        // @ts-ignore\n        ack.apply(this, packet.data);\n    }\n    /**\n     * Called upon server connect.\n     *\n     * @private\n     */\n    onconnect(id, pid) {\n        this.id = id;\n        this.recovered = pid && this._pid === pid;\n        this._pid = pid; // defined only if connection state recovery is enabled\n        this.connected = true;\n        this.emitBuffered();\n        this.emitReserved(\"connect\");\n        this._drainQueue(true);\n    }\n    /**\n     * Emit buffered events (received and emitted).\n     *\n     * @private\n     */\n    emitBuffered() {\n        this.receiveBuffer.forEach((args) => this.emitEvent(args));\n        this.receiveBuffer = [];\n        this.sendBuffer.forEach((packet) => {\n            this.notifyOutgoingListeners(packet);\n            this.packet(packet);\n        });\n        this.sendBuffer = [];\n    }\n    /**\n     * Called upon server disconnect.\n     *\n     * @private\n     */\n    ondisconnect() {\n        this.destroy();\n        this.onclose(\"io server disconnect\");\n    }\n    /**\n     * Called upon forced client/server side disconnections,\n     * this method ensures the manager stops tracking us and\n     * that reconnections don't get triggered for this.\n     *\n     * @private\n     */\n    destroy() {\n        if (this.subs) {\n            // clean subscriptions to avoid reconnections\n            this.subs.forEach((subDestroy) => subDestroy());\n            this.subs = undefined;\n        }\n        this.io[\"_destroy\"](this);\n    }\n    /**\n     * Disconnects the socket manually. In that case, the socket will not try to reconnect.\n     *\n     * If this is the last active Socket instance of the {@link Manager}, the low-level connection will be closed.\n     *\n     * @example\n     * const socket = io();\n     *\n     * socket.on(\"disconnect\", (reason) => {\n     *   // console.log(reason); prints \"io client disconnect\"\n     * });\n     *\n     * socket.disconnect();\n     *\n     * @return self\n     */\n    disconnect() {\n        if (this.connected) {\n            this.packet({ type: PacketType.DISCONNECT });\n        }\n        // remove socket from pool\n        this.destroy();\n        if (this.connected) {\n            // fire events\n            this.onclose(\"io client disconnect\");\n        }\n        return this;\n    }\n    /**\n     * Alias for {@link disconnect()}.\n     *\n     * @return self\n     */\n    close() {\n        return this.disconnect();\n    }\n    /**\n     * Sets the compress flag.\n     *\n     * @example\n     * socket.compress(false).emit(\"hello\");\n     *\n     * @param compress - if `true`, compresses the sending data\n     * @return self\n     */\n    compress(compress) {\n        this.flags.compress = compress;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the event message will be dropped when this socket is not\n     * ready to send messages.\n     *\n     * @example\n     * socket.volatile.emit(\"hello\"); // the server may or may not receive it\n     *\n     * @returns self\n     */\n    get volatile() {\n        this.flags.volatile = true;\n        return this;\n    }\n    /**\n     * Sets a modifier for a subsequent event emission that the callback will be called with an error when the\n     * given number of milliseconds have elapsed without an acknowledgement from the server:\n     *\n     * @example\n     * socket.timeout(5000).emit(\"my-event\", (err) => {\n     *   if (err) {\n     *     // the server did not acknowledge the event in the given delay\n     *   }\n     * });\n     *\n     * @returns self\n     */\n    timeout(timeout) {\n        this.flags.timeout = timeout;\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * @example\n     * socket.onAny((event, ...args) => {\n     *   console.log(`got ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * @example\n     * socket.prependAny((event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAny(listener) {\n        this._anyListeners = this._anyListeners || [];\n        this._anyListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`got event ${event}`);\n     * }\n     *\n     * socket.onAny(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAny(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAny();\n     *\n     * @param listener\n     */\n    offAny(listener) {\n        if (!this._anyListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAny() {\n        return this._anyListeners || [];\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.onAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    onAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.push(listener);\n        return this;\n    }\n    /**\n     * Adds a listener that will be fired when any event is emitted. The event name is passed as the first argument to the\n     * callback. The listener is added to the beginning of the listeners array.\n     *\n     * Note: acknowledgements sent to the server are not included.\n     *\n     * @example\n     * socket.prependAnyOutgoing((event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * });\n     *\n     * @param listener\n     */\n    prependAnyOutgoing(listener) {\n        this._anyOutgoingListeners = this._anyOutgoingListeners || [];\n        this._anyOutgoingListeners.unshift(listener);\n        return this;\n    }\n    /**\n     * Removes the listener that will be fired when any event is emitted.\n     *\n     * @example\n     * const catchAllListener = (event, ...args) => {\n     *   console.log(`sent event ${event}`);\n     * }\n     *\n     * socket.onAnyOutgoing(catchAllListener);\n     *\n     * // remove a specific listener\n     * socket.offAnyOutgoing(catchAllListener);\n     *\n     * // or remove all listeners\n     * socket.offAnyOutgoing();\n     *\n     * @param [listener] - the catch-all listener (optional)\n     */\n    offAnyOutgoing(listener) {\n        if (!this._anyOutgoingListeners) {\n            return this;\n        }\n        if (listener) {\n            const listeners = this._anyOutgoingListeners;\n            for (let i = 0; i < listeners.length; i++) {\n                if (listener === listeners[i]) {\n                    listeners.splice(i, 1);\n                    return this;\n                }\n            }\n        }\n        else {\n            this._anyOutgoingListeners = [];\n        }\n        return this;\n    }\n    /**\n     * Returns an array of listeners that are listening for any event that is specified. This array can be manipulated,\n     * e.g. to remove listeners.\n     */\n    listenersAnyOutgoing() {\n        return this._anyOutgoingListeners || [];\n    }\n    /**\n     * Notify the listeners for each packet sent\n     *\n     * @param packet\n     *\n     * @private\n     */\n    notifyOutgoingListeners(packet) {\n        if (this._anyOutgoingListeners && this._anyOutgoingListeners.length) {\n            const listeners = this._anyOutgoingListeners.slice();\n            for (const listener of listeners) {\n                listener.apply(this, packet.data);\n            }\n        }\n    }\n}\n","/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\nexport function Backoff(opts) {\n    opts = opts || {};\n    this.ms = opts.min || 100;\n    this.max = opts.max || 10000;\n    this.factor = opts.factor || 2;\n    this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n    this.attempts = 0;\n}\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\nBackoff.prototype.duration = function () {\n    var ms = this.ms * Math.pow(this.factor, this.attempts++);\n    if (this.jitter) {\n        var rand = Math.random();\n        var deviation = Math.floor(rand * this.jitter * ms);\n        ms = (Math.floor(rand * 10) & 1) == 0 ? ms - deviation : ms + deviation;\n    }\n    return Math.min(ms, this.max) | 0;\n};\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\nBackoff.prototype.reset = function () {\n    this.attempts = 0;\n};\n/**\n * Set the minimum duration\n *\n * @api public\n */\nBackoff.prototype.setMin = function (min) {\n    this.ms = min;\n};\n/**\n * Set the maximum duration\n *\n * @api public\n */\nBackoff.prototype.setMax = function (max) {\n    this.max = max;\n};\n/**\n * Set the jitter\n *\n * @api public\n */\nBackoff.prototype.setJitter = function (jitter) {\n    this.jitter = jitter;\n};\n","import { Socket as Engine, installTimerFunctions, nextTick, } from \"engine.io-client\";\nimport { Socket } from \"./socket.js\";\nimport * as parser from \"socket.io-parser\";\nimport { on } from \"./on.js\";\nimport { Backoff } from \"./contrib/backo2.js\";\nimport { Emitter, } from \"@socket.io/component-emitter\";\nexport class Manager extends Emitter {\n    constructor(uri, opts) {\n        var _a;\n        super();\n        this.nsps = {};\n        this.subs = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = undefined;\n        }\n        opts = opts || {};\n        opts.path = opts.path || \"/socket.io\";\n        this.opts = opts;\n        installTimerFunctions(this, opts);\n        this.reconnection(opts.reconnection !== false);\n        this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n        this.reconnectionDelay(opts.reconnectionDelay || 1000);\n        this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n        this.randomizationFactor((_a = opts.randomizationFactor) !== null && _a !== void 0 ? _a : 0.5);\n        this.backoff = new Backoff({\n            min: this.reconnectionDelay(),\n            max: this.reconnectionDelayMax(),\n            jitter: this.randomizationFactor(),\n        });\n        this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n        this._readyState = \"closed\";\n        this.uri = uri;\n        const _parser = opts.parser || parser;\n        this.encoder = new _parser.Encoder();\n        this.decoder = new _parser.Decoder();\n        this._autoConnect = opts.autoConnect !== false;\n        if (this._autoConnect)\n            this.open();\n    }\n    reconnection(v) {\n        if (!arguments.length)\n            return this._reconnection;\n        this._reconnection = !!v;\n        if (!v) {\n            this.skipReconnect = true;\n        }\n        return this;\n    }\n    reconnectionAttempts(v) {\n        if (v === undefined)\n            return this._reconnectionAttempts;\n        this._reconnectionAttempts = v;\n        return this;\n    }\n    reconnectionDelay(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelay;\n        this._reconnectionDelay = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMin(v);\n        return this;\n    }\n    randomizationFactor(v) {\n        var _a;\n        if (v === undefined)\n            return this._randomizationFactor;\n        this._randomizationFactor = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setJitter(v);\n        return this;\n    }\n    reconnectionDelayMax(v) {\n        var _a;\n        if (v === undefined)\n            return this._reconnectionDelayMax;\n        this._reconnectionDelayMax = v;\n        (_a = this.backoff) === null || _a === void 0 ? void 0 : _a.setMax(v);\n        return this;\n    }\n    timeout(v) {\n        if (!arguments.length)\n            return this._timeout;\n        this._timeout = v;\n        return this;\n    }\n    /**\n     * Starts trying to reconnect if reconnection is enabled and we have not\n     * started reconnecting yet\n     *\n     * @private\n     */\n    maybeReconnectOnOpen() {\n        // Only try to reconnect if it's the first time we're connecting\n        if (!this._reconnecting &&\n            this._reconnection &&\n            this.backoff.attempts === 0) {\n            // keeps reconnection from firing twice for the same reconnection loop\n            this.reconnect();\n        }\n    }\n    /**\n     * Sets the current transport `socket`.\n     *\n     * @param {Function} fn - optional, callback\n     * @return self\n     * @public\n     */\n    open(fn) {\n        if (~this._readyState.indexOf(\"open\"))\n            return this;\n        this.engine = new Engine(this.uri, this.opts);\n        const socket = this.engine;\n        const self = this;\n        this._readyState = \"opening\";\n        this.skipReconnect = false;\n        // emit `open`\n        const openSubDestroy = on(socket, \"open\", function () {\n            self.onopen();\n            fn && fn();\n        });\n        const onError = (err) => {\n            this.cleanup();\n            this._readyState = \"closed\";\n            this.emitReserved(\"error\", err);\n            if (fn) {\n                fn(err);\n            }\n            else {\n                // Only do this if there is no fn to handle the error\n                this.maybeReconnectOnOpen();\n            }\n        };\n        // emit `error`\n        const errorSub = on(socket, \"error\", onError);\n        if (false !== this._timeout) {\n            const timeout = this._timeout;\n            // set timer\n            const timer = this.setTimeoutFn(() => {\n                openSubDestroy();\n                onError(new Error(\"timeout\"));\n                socket.close();\n            }, timeout);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n        this.subs.push(openSubDestroy);\n        this.subs.push(errorSub);\n        return this;\n    }\n    /**\n     * Alias for open()\n     *\n     * @return self\n     * @public\n     */\n    connect(fn) {\n        return this.open(fn);\n    }\n    /**\n     * Called upon transport open.\n     *\n     * @private\n     */\n    onopen() {\n        // clear old subs\n        this.cleanup();\n        // mark as open\n        this._readyState = \"open\";\n        this.emitReserved(\"open\");\n        // add new subs\n        const socket = this.engine;\n        this.subs.push(on(socket, \"ping\", this.onping.bind(this)), on(socket, \"data\", this.ondata.bind(this)), on(socket, \"error\", this.onerror.bind(this)), on(socket, \"close\", this.onclose.bind(this)), \n        // @ts-ignore\n        on(this.decoder, \"decoded\", this.ondecoded.bind(this)));\n    }\n    /**\n     * Called upon a ping.\n     *\n     * @private\n     */\n    onping() {\n        this.emitReserved(\"ping\");\n    }\n    /**\n     * Called with data.\n     *\n     * @private\n     */\n    ondata(data) {\n        try {\n            this.decoder.add(data);\n        }\n        catch (e) {\n            this.onclose(\"parse error\", e);\n        }\n    }\n    /**\n     * Called when parser fully decodes a packet.\n     *\n     * @private\n     */\n    ondecoded(packet) {\n        // the nextTick call prevents an exception in a user-provided event listener from triggering a disconnection due to a \"parse error\"\n        nextTick(() => {\n            this.emitReserved(\"packet\", packet);\n        }, this.setTimeoutFn);\n    }\n    /**\n     * Called upon socket error.\n     *\n     * @private\n     */\n    onerror(err) {\n        this.emitReserved(\"error\", err);\n    }\n    /**\n     * Creates a new socket for the given `nsp`.\n     *\n     * @return {Socket}\n     * @public\n     */\n    socket(nsp, opts) {\n        let socket = this.nsps[nsp];\n        if (!socket) {\n            socket = new Socket(this, nsp, opts);\n            this.nsps[nsp] = socket;\n        }\n        else if (this._autoConnect && !socket.active) {\n            socket.connect();\n        }\n        return socket;\n    }\n    /**\n     * Called upon a socket close.\n     *\n     * @param socket\n     * @private\n     */\n    _destroy(socket) {\n        const nsps = Object.keys(this.nsps);\n        for (const nsp of nsps) {\n            const socket = this.nsps[nsp];\n            if (socket.active) {\n                return;\n            }\n        }\n        this._close();\n    }\n    /**\n     * Writes a packet.\n     *\n     * @param packet\n     * @private\n     */\n    _packet(packet) {\n        const encodedPackets = this.encoder.encode(packet);\n        for (let i = 0; i < encodedPackets.length; i++) {\n            this.engine.write(encodedPackets[i], packet.options);\n        }\n    }\n    /**\n     * Clean up transport subscriptions and packet buffer.\n     *\n     * @private\n     */\n    cleanup() {\n        this.subs.forEach((subDestroy) => subDestroy());\n        this.subs.length = 0;\n        this.decoder.destroy();\n    }\n    /**\n     * Close the current socket.\n     *\n     * @private\n     */\n    _close() {\n        this.skipReconnect = true;\n        this._reconnecting = false;\n        this.onclose(\"forced close\");\n    }\n    /**\n     * Alias for close()\n     *\n     * @private\n     */\n    disconnect() {\n        return this._close();\n    }\n    /**\n     * Called when:\n     *\n     * - the low-level engine is closed\n     * - the parser encountered a badly formatted packet\n     * - all sockets are disconnected\n     *\n     * @private\n     */\n    onclose(reason, description) {\n        var _a;\n        this.cleanup();\n        (_a = this.engine) === null || _a === void 0 ? void 0 : _a.close();\n        this.backoff.reset();\n        this._readyState = \"closed\";\n        this.emitReserved(\"close\", reason, description);\n        if (this._reconnection && !this.skipReconnect) {\n            this.reconnect();\n        }\n    }\n    /**\n     * Attempt a reconnection.\n     *\n     * @private\n     */\n    reconnect() {\n        if (this._reconnecting || this.skipReconnect)\n            return this;\n        const self = this;\n        if (this.backoff.attempts >= this._reconnectionAttempts) {\n            this.backoff.reset();\n            this.emitReserved(\"reconnect_failed\");\n            this._reconnecting = false;\n        }\n        else {\n            const delay = this.backoff.duration();\n            this._reconnecting = true;\n            const timer = this.setTimeoutFn(() => {\n                if (self.skipReconnect)\n                    return;\n                this.emitReserved(\"reconnect_attempt\", self.backoff.attempts);\n                // check again for the case socket closed in above events\n                if (self.skipReconnect)\n                    return;\n                self.open((err) => {\n                    if (err) {\n                        self._reconnecting = false;\n                        self.reconnect();\n                        this.emitReserved(\"reconnect_error\", err);\n                    }\n                    else {\n                        self.onreconnect();\n                    }\n                });\n            }, delay);\n            if (this.opts.autoUnref) {\n                timer.unref();\n            }\n            this.subs.push(() => {\n                this.clearTimeoutFn(timer);\n            });\n        }\n    }\n    /**\n     * Called upon successful reconnect.\n     *\n     * @private\n     */\n    onreconnect() {\n        const attempt = this.backoff.attempts;\n        this._reconnecting = false;\n        this.backoff.reset();\n        this.emitReserved(\"reconnect\", attempt);\n    }\n}\n","import { url } from \"./url.js\";\nimport { Manager } from \"./manager.js\";\nimport { Socket } from \"./socket.js\";\n/**\n * Managers cache.\n */\nconst cache = {};\nfunction lookup(uri, opts) {\n    if (typeof uri === \"object\") {\n        opts = uri;\n        uri = undefined;\n    }\n    opts = opts || {};\n    const parsed = url(uri, opts.path || \"/socket.io\");\n    const source = parsed.source;\n    const id = parsed.id;\n    const path = parsed.path;\n    const sameNamespace = cache[id] && path in cache[id][\"nsps\"];\n    const newConnection = opts.forceNew ||\n        opts[\"force new connection\"] ||\n        false === opts.multiplex ||\n        sameNamespace;\n    let io;\n    if (newConnection) {\n        io = new Manager(source, opts);\n    }\n    else {\n        if (!cache[id]) {\n            cache[id] = new Manager(source, opts);\n        }\n        io = cache[id];\n    }\n    if (parsed.query && !opts.query) {\n        opts.query = parsed.queryKey;\n    }\n    return io.socket(parsed.path, opts);\n}\n// so that \"lookup\" can be used both as a function (e.g. `io(...)`) and as a\n// namespace (e.g. `io.connect(...)`), for backward compatibility\nObject.assign(lookup, {\n    Manager,\n    Socket,\n    io: lookup,\n    connect: lookup,\n});\n/**\n * Protocol version.\n *\n * @public\n */\nexport { protocol } from \"socket.io-parser\";\n/**\n * Expose constructors for standalone build.\n *\n * @public\n */\nexport { Manager, Socket, lookup as io, lookup as connect, lookup as default, };\nexport { Fetch, NodeXHR, XHR, NodeWebSocket, WebSocket, WebTransport, } from \"engine.io-client\";\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","var VueModule = require('vue')\n\n// get the real Vue https://github.com/vueuse/vue-demi/issues/192\nvar Vue = VueModule.default || VueModule\n\nexports.Vue = Vue\nexports.Vue2 = Vue\nexports.isVue2 = true\nexports.isVue3 = false\nexports.install = function () {}\nexports.warn = Vue.util.warn\n\n// createApp polyfill\nexports.createApp = function (rootComponent, rootProps) {\n  var vm\n  var provide = {}\n  var app = {\n    config: Vue.config,\n    use: Vue.use.bind(Vue),\n    mixin: Vue.mixin.bind(Vue),\n    component: Vue.component.bind(Vue),\n    provide: function (key, value) {\n      provide[key] = value\n      return this\n    },\n    directive: function (name, dir) {\n      if (dir) {\n        Vue.directive(name, dir)\n        return app\n      } else {\n        return Vue.directive(name)\n      }\n    },\n    mount: function (el, hydrating) {\n      if (!vm) {\n        vm = new Vue(Object.assign({ propsData: rootProps }, rootComponent, { provide: Object.assign(provide, rootComponent.provide) }))\n        vm.$mount(el, hydrating)\n        return vm\n      } else {\n        return vm\n      }\n    },\n    unmount: function () {\n      if (vm) {\n        vm.$destroy()\n        vm = undefined\n      }\n    },\n  }\n  return app\n}\n\nObject.keys(VueModule).forEach(function (key) {\n  exports[key] = VueModule[key]\n})\n\n// Not implemented https://github.com/vuejs/core/pull/8111, falls back to getCurrentInstance()\nexports.hasInjectionContext = function() {\n  return !!VueModule.getCurrentInstance()\n}"],"sourceRoot":""}