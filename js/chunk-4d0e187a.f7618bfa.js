(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d0e187a"],{"39dc":function(e,t,a){},b002:function(e,t,a){"use strict";a("39dc")},e6c6:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"domain-management-container"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("域名管理")])]),t("div",{staticClass:"domain-content"},[t("el-form",{attrs:{inline:!0},nativeOn:{submit:function(t){return t.preventDefault(),e.handleAddDomain.apply(null,arguments)}}},[t("el-form-item",{attrs:{label:"添加域名"}},[t("el-input",{attrs:{placeholder:"请输入域名"},model:{value:e.newDomain,callback:function(t){e.newDomain=t},expression:"newDomain"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleAddDomain}},[e._v("添加")])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.domains}},[t("el-table-column",{attrs:{prop:"name",label:"域名"}}),t("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){return e.handleDeleteDomain(a.row)}}},[e._v("删除")])]}}])})],1)],1)])],1)},s=[],i=a("be92"),o=a("9d74"),l={name:"DomainManagement",data(){return{newDomain:""}},computed:{...Object(i["e"])(o["a"],["domains"])},created(){this.fetchDomains()},methods:{...Object(i["d"])(o["a"],["fetchDomains","addDomain","deleteDomain"]),async handleAddDomain(){if(this.newDomain.trim())try{await this.addDomain(this.newDomain.trim()),this.$message.success("域名添加成功"),this.newDomain=""}catch(e){e.response&&409===e.response.status?this.$message.error("域名已存在"):this.$message.error("添加域名失败")}else this.$message.error("域名不能为空")},async handleDeleteDomain(e){this.$confirm(`确定要删除域名 "${e.name}" 吗?`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(async()=>{await this.deleteDomain(e._id),this.$message.success("删除成功")}).catch(()=>{})}}},r=l,c=(a("b002"),a("2877")),m=Object(c["a"])(r,n,s,!1,null,"412b702a",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-4d0e187a.f7618bfa.js.map