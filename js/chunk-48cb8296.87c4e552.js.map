{"version":3,"sources":["webpack:///./src/views/InviteCodes.vue","webpack:///src/views/InviteCodes.vue","webpack:///./src/views/InviteCodes.vue?f28b","webpack:///./src/views/InviteCodes.vue?4b79","webpack:///./src/views/InviteCodes.vue?18a6"],"names":["render","_vm","this","_c","_self","staticClass","_m","_v","attrs","form","count","on","decreaseCount","directives","name","rawName","value","expression","domProps","$event","target","composing","$set","increaseCount","isFormValid","loading","generateCodes","_s","isMobile","_l","codes","code","_code$usedBy2","key","_id","copyCode","class","status","formatDate","createdAt","usedAt","usedBy","username","deleteCode","_code$usedBy","length","_e","showDeleteModal","closeDeleteModal","stopPropagation","deleteLoading","confirmDelete","staticRenderFns","data","codeToDelete","computed","parseInt","methods","date","Date","toLocaleString","response","$api","post","$message","success","error","_error$response","_error$response$data","message","get","navigator","clipboard","writeText","then","catch","delete","filter","c","checkMobile","window","innerWidth","created","addEventListener","loadCodes","beforeDestroy","removeEventListener","component"],"mappings":"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","file":"js/chunk-48cb8296.87c4e552.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"invite-codes\"},[_vm._m(0),_c('div',{staticClass:\"generate-form\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"生成数量\")]),_c('div',{staticClass:\"count-input\"},[_c('button',{staticClass:\"count-btn\",attrs:{\"disabled\":_vm.form.count <= 1},on:{\"click\":_vm.decreaseCount}},[_c('i',{staticClass:\"fas fa-minus\"})]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.count),expression:\"form.count\"}],attrs:{\"type\":\"number\",\"min\":\"1\",\"max\":\"100\",\"placeholder\":\"请输入生成数量（最多100个）\"},domProps:{\"value\":(_vm.form.count)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"count\", $event.target.value)}}}),_c('button',{staticClass:\"count-btn\",attrs:{\"disabled\":_vm.form.count >= 100},on:{\"click\":_vm.increaseCount}},[_c('i',{staticClass:\"fas fa-plus\"})])])]),_c('button',{staticClass:\"generate-btn\",attrs:{\"disabled\":!_vm.isFormValid || _vm.loading},on:{\"click\":_vm.generateCodes}},[_c('i',{staticClass:\"fas fa-plus-circle\"}),_vm._v(\" \"+_vm._s(_vm.loading ? '生成中...' : '生成邀请码')+\" \")])]),_c('div',{staticClass:\"codes-section\"},[(!_vm.isMobile)?_c('div',{staticClass:\"table-wrapper\"},[_c('table',[_vm._m(1),_c('tbody',_vm._l((_vm.codes),function(code){return _c('tr',{key:code._id},[_c('td',[_c('div',{staticClass:\"code-no\"},[_vm._v(\" \"+_vm._s(code.code)+\" \"),_c('button',{staticClass:\"copy-btn\",on:{\"click\":function($event){return _vm.copyCode(code.code)}}},[_c('i',{staticClass:\"fas fa-copy\"})])])]),_c('td',[_c('span',{class:['status-badge', code.status === 'used' ? 'used' : 'unused']},[_vm._v(\" \"+_vm._s(code.status === 'used' ? '已使用' : '未使用')+\" \")])]),_c('td',[_vm._v(_vm._s(_vm.formatDate(code.createdAt)))]),_c('td',[_vm._v(_vm._s(code.usedAt ? _vm.formatDate(code.usedAt) : '-'))]),_c('td',[_vm._v(_vm._s(code.usedBy?.username || '-'))]),_c('td',[_c('button',{staticClass:\"delete-btn\",attrs:{\"disabled\":code.status === 'used'},on:{\"click\":function($event){return _vm.deleteCode(code)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"}),_vm._v(\" 删除 \")])])])}),0)])]):_c('div',{staticClass:\"mobile-cards\"},_vm._l((_vm.codes),function(code){return _c('div',{key:code._id,staticClass:\"code-card\"},[_c('div',{staticClass:\"card-header\"},[_c('div',{staticClass:\"code-no\"},[_vm._v(\" \"+_vm._s(code.code)+\" \"),_c('button',{staticClass:\"copy-btn\",on:{\"click\":function($event){return _vm.copyCode(code.code)}}},[_c('i',{staticClass:\"fas fa-copy\"})])]),_c('span',{class:['status-badge', code.status === 'used' ? 'used' : 'unused']},[_vm._v(\" \"+_vm._s(code.status === 'used' ? '已使用' : '未使用')+\" \")])]),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"info-row\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"创建时间:\")]),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(_vm.formatDate(code.createdAt)))])]),_c('div',{staticClass:\"info-row\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"使用时间:\")]),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(code.usedAt ? _vm.formatDate(code.usedAt) : '-'))])]),_c('div',{staticClass:\"info-row\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"使用者:\")]),_c('span',{staticClass:\"value\"},[_vm._v(_vm._s(code.usedBy?.username || '-'))])])]),_c('div',{staticClass:\"card-footer\"},[_c('button',{staticClass:\"delete-btn\",attrs:{\"disabled\":code.status === 'used'},on:{\"click\":function($event){return _vm.deleteCode(code)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"}),_vm._v(\" 删除 \")])])])}),0),(_vm.codes.length === 0)?_c('div',{staticClass:\"empty-state\"},[_c('i',{staticClass:\"fas fa-ticket-alt\"}),_c('p',[_vm._v(\"暂无邀请码数据\")])]):_vm._e()]),(_vm.showDeleteModal)?_c('div',{staticClass:\"modal-overlay\",on:{\"click\":_vm.closeDeleteModal}},[_c('div',{staticClass:\"delete-modal\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('div',{staticClass:\"modal-header\"},[_vm._m(2),_c('button',{staticClass:\"close-btn\",on:{\"click\":_vm.closeDeleteModal}},[_c('i',{staticClass:\"fas fa-times\"})])]),_vm._m(3),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"cancel-btn\",on:{\"click\":_vm.closeDeleteModal}},[_c('i',{staticClass:\"fas fa-times\"}),_vm._v(\" 取消 \")]),_c('button',{staticClass:\"confirm-btn danger\",attrs:{\"disabled\":_vm.deleteLoading},on:{\"click\":_vm.confirmDelete}},[_c('i',{staticClass:\"fas fa-trash-alt\"}),_vm._v(\" \"+_vm._s(_vm.deleteLoading ? '删除中...' : '确认删除')+\" \")])])])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\"},[_c('h2',[_vm._v(\"邀请码管理\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"邀请码\")]),_c('th',[_vm._v(\"状态\")]),_c('th',[_vm._v(\"创建时间\")]),_c('th',[_vm._v(\"使用时间\")]),_c('th',[_vm._v(\"使用者\")]),_c('th',[_vm._v(\"操作\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('h3',[_c('i',{staticClass:\"fas fa-exclamation-triangle\"}),_vm._v(\" 确认删除 \")])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"warning-text\"},[_c('i',{staticClass:\"fas fa-exclamation-circle\"}),_c('span',[_vm._v(\"确定要删除此邀请码吗？\")])]),_c('p',{staticClass:\"sub-warning\"},[_vm._v(\"此操作不可恢复，请谨慎操作。\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"invite-codes\">\n    <div class=\"header\">\n      <h2>邀请码管理</h2>\n    </div>\n\n    <div class=\"generate-form\">\n      <div class=\"form-group\">\n        <label>生成数量</label>\n        <div class=\"count-input\">\n          <button \n            class=\"count-btn\" \n            @click=\"decreaseCount\"\n            :disabled=\"form.count <= 1\"\n          >\n            <i class=\"fas fa-minus\"></i>\n          </button>\n          <input \n            type=\"number\" \n            v-model=\"form.count\"\n            min=\"1\"\n            max=\"100\"\n            placeholder=\"请输入生成数量（最多100个）\"\n          >\n          <button \n            class=\"count-btn\"\n            @click=\"increaseCount\"\n            :disabled=\"form.count >= 100\"\n          >\n            <i class=\"fas fa-plus\"></i>\n          </button>\n        </div>\n      </div>\n\n      <button \n        class=\"generate-btn\"\n        @click=\"generateCodes\"\n        :disabled=\"!isFormValid || loading\"\n      >\n        <i class=\"fas fa-plus-circle\"></i>\n        {{ loading ? '生成中...' : '生成邀请码' }}\n      </button>\n    </div>\n\n    <!-- 邀请码列表 -->\n    <div class=\"codes-section\">\n      <!-- 桌面端表格视图 -->\n      <div v-if=\"!isMobile\" class=\"table-wrapper\">\n        <table>\n          <thead>\n            <tr>\n              <th>邀请码</th>\n              <th>状态</th>\n              <th>创建时间</th>\n              <th>使用时间</th>\n              <th>使用者</th>\n              <th>操作</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"code in codes\" :key=\"code._id\">\n              <td>\n                <div class=\"code-no\">\n                  {{ code.code }}\n                  <button class=\"copy-btn\" @click=\"copyCode(code.code)\">\n                    <i class=\"fas fa-copy\"></i>\n                  </button>\n                </div>\n              </td>\n              <td>\n                <span :class=\"['status-badge', code.status === 'used' ? 'used' : 'unused']\">\n                  {{ code.status === 'used' ? '已使用' : '未使用' }}\n                </span>\n              </td>\n              <td>{{ formatDate(code.createdAt) }}</td>\n              <td>{{ code.usedAt ? formatDate(code.usedAt) : '-' }}</td>\n              <td>{{ code.usedBy?.username || '-' }}</td>\n              <td>\n                <button \n                  class=\"delete-btn\"\n                  @click=\"deleteCode(code)\"\n                  :disabled=\"code.status === 'used'\"\n                >\n                  <i class=\"fas fa-trash-alt\"></i>\n                  删除\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      <!-- 移动端卡片视图 -->\n      <div v-else class=\"mobile-cards\">\n        <div v-for=\"code in codes\" :key=\"code._id\" class=\"code-card\">\n          <div class=\"card-header\">\n            <div class=\"code-no\">\n              {{ code.code }}\n              <button class=\"copy-btn\" @click=\"copyCode(code.code)\">\n                <i class=\"fas fa-copy\"></i>\n              </button>\n            </div>\n            <span :class=\"['status-badge', code.status === 'used' ? 'used' : 'unused']\">\n              {{ code.status === 'used' ? '已使用' : '未使用' }}\n            </span>\n          </div>\n          <div class=\"card-body\">\n            <div class=\"info-row\">\n              <span class=\"label\">创建时间:</span>\n              <span class=\"value\">{{ formatDate(code.createdAt) }}</span>\n            </div>\n            <div class=\"info-row\">\n              <span class=\"label\">使用时间:</span>\n              <span class=\"value\">{{ code.usedAt ? formatDate(code.usedAt) : '-' }}</span>\n            </div>\n            <div class=\"info-row\">\n              <span class=\"label\">使用者:</span>\n              <span class=\"value\">{{ code.usedBy?.username || '-' }}</span>\n            </div>\n          </div>\n          <div class=\"card-footer\">\n            <button \n              class=\"delete-btn\"\n              @click=\"deleteCode(code)\"\n              :disabled=\"code.status === 'used'\"\n            >\n              <i class=\"fas fa-trash-alt\"></i>\n              删除\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- 空状态 -->\n      <div v-if=\"codes.length === 0\" class=\"empty-state\">\n        <i class=\"fas fa-ticket-alt\"></i>\n        <p>暂无邀请码数据</p>\n      </div>\n    </div>\n\n    <!-- 添加删除确认弹窗 -->\n    <div v-if=\"showDeleteModal\" class=\"modal-overlay\" @click=\"closeDeleteModal\">\n      <div class=\"delete-modal\" @click.stop>\n        <div class=\"modal-header\">\n          <h3>\n            <i class=\"fas fa-exclamation-triangle\"></i>\n            确认删除\n          </h3>\n          <button class=\"close-btn\" @click=\"closeDeleteModal\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n        \n        <div class=\"modal-content\">\n          <div class=\"warning-text\">\n            <i class=\"fas fa-exclamation-circle\"></i>\n            <span>确定要删除此邀请码吗？</span>\n          </div>\n          <p class=\"sub-warning\">此操作不可恢复，请谨慎操作。</p>\n        </div>\n\n        <div class=\"modal-footer\">\n          <button class=\"cancel-btn\" @click=\"closeDeleteModal\">\n            <i class=\"fas fa-times\"></i>\n            取消\n          </button>\n          <button \n            class=\"confirm-btn danger\"\n            @click=\"confirmDelete\"\n            :disabled=\"deleteLoading\"\n          >\n            <i class=\"fas fa-trash-alt\"></i>\n            {{ deleteLoading ? '删除中...' : '确认删除' }}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'InviteCodes',\n  data() {\n    return {\n      form: {\n        count: 1\n      },\n      codes: [],\n      loading: false,\n      isMobile: false,\n      showDeleteModal: false,\n      deleteLoading: false,\n      codeToDelete: null\n    }\n  },\n  computed: {\n    isFormValid() {\n      const count = parseInt(this.form.count);\n      return count > 0 && count <= 100;\n    }\n  },\n  methods: {\n    formatDate(date) {\n      return new Date(date).toLocaleString();\n    },\n    increaseCount() {\n      if (this.form.count < 100) {\n        this.form.count++;\n      }\n    },\n    decreaseCount() {\n      if (this.form.count > 1) {\n        this.form.count--;\n      }\n    },\n    async generateCodes() {\n      if (!this.isFormValid || this.loading) return;\n      \n      try {\n        this.loading = true;\n        const response = await this.$api.post('/api/invite-codes', this.form);\n        this.codes = [...response.data.codes, ...this.codes];\n        this.$message.success('邀请码生成成功');\n      } catch (error) {\n        this.$message.error(error.response?.data?.message || '生成邀请码失败');\n      } finally {\n        this.loading = false;\n      }\n    },\n    async loadCodes() {\n      try {\n        const response = await this.$api.get('/api/invite-codes');\n        this.codes = response.data.codes;\n      } catch (error) {\n        this.$message.error('获取邀请码列表失败');\n      }\n    },\n    copyCode(code) {\n      navigator.clipboard.writeText(code)\n        .then(() => {\n          this.$message.success('邀请码已复制');\n        })\n        .catch(() => {\n          this.$message.error('复制失败');\n        });\n    },\n    deleteCode(code) {\n      if (code.status === 'used') {\n        this.$message.error('已使用的邀请码不能删除');\n        return;\n      }\n      this.codeToDelete = code;\n      this.showDeleteModal = true;\n    },\n    closeDeleteModal() {\n      this.showDeleteModal = false;\n      this.codeToDelete = null;\n    },\n    async confirmDelete() {\n      if (!this.codeToDelete) return;\n      \n      try {\n        this.deleteLoading = true;\n        const response = await this.$api.delete(`/api/invite-codes/${this.codeToDelete._id}`);\n        \n        if (response.data.message === '删除成功') {\n          this.codes = this.codes.filter(c => c._id !== this.codeToDelete._id);\n          this.$message.success('删除成功');\n          this.closeDeleteModal();\n        }\n      } catch (error) {\n        this.$message.error(error.message || '删除失败');\n      } finally {\n        this.deleteLoading = false;\n      }\n    },\n    checkMobile() {\n      this.isMobile = window.innerWidth <= 768;\n    }\n  },\n  created() {\n    this.checkMobile();\n    window.addEventListener('resize', this.checkMobile);\n    this.loadCodes();\n  },\n  beforeDestroy() {\n    window.removeEventListener('resize', this.checkMobile);\n  }\n}\n</script>\n\n<style scoped>\n.invite-codes {\n  padding: 2rem;\n}\n\n.header {\n  margin-bottom: 2rem;\n}\n\n.header h2 {\n  font-size: 1.5rem;\n  color: var(--text-primary);\n  margin: 0;\n}\n\n.generate-form {\n  background: white;\n  border-radius: var(--radius-lg);\n  padding: 2rem;\n  margin-bottom: 2rem;\n  box-shadow: var(--shadow);\n}\n\n.form-group {\n  margin-bottom: 1.5rem;\n}\n\n.form-group label {\n  display: block;\n  margin-bottom: 0.5rem;\n  color: var(--text-primary);\n  font-weight: 500;\n}\n\n.count-input {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n}\n\n.count-btn {\n  width: 40px;\n  height: 40px;\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius);\n  background: white;\n  color: var(--text-primary);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.count-btn:hover:not(:disabled) {\n  background: var(--background-color);\n  border-color: var(--primary-color);\n}\n\n.count-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n.count-input input {\n  flex: 1;\n  height: 40px;\n  padding: 0 1rem;\n  border: 1px solid var(--border-color);\n  border-radius: var(--radius);\n  font-size: 0.875rem;\n}\n\n.generate-btn {\n  width: 100%;\n  padding: 1rem;\n  border: none;\n  border-radius: var(--radius);\n  background: var(--primary-gradient);\n  color: white;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 0.5rem;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.generate-btn:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);\n}\n\n.generate-btn:disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\n\n/* 表格样式 */\n.table-wrapper {\n  background: white;\n  border-radius: var(--radius-lg);\n  padding: 1.5rem;\n  box-shadow: var(--shadow);\n  overflow-x: auto;\n}\n\ntable {\n  width: 100%;\n  border-collapse: separate;\n  border-spacing: 0;\n}\n\nth, td {\n  padding: 1rem;\n  text-align: left;\n  border-bottom: 1px solid var(--border-color);\n}\n\nth {\n  font-weight: 500;\n  color: var(--text-secondary);\n  background: var(--background-color);\n}\n\n.code-no {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.copy-btn {\n  padding: 0.25rem;\n  border: none;\n  background: none;\n  color: var(--text-secondary);\n  cursor: pointer;\n  transition: color 0.2s;\n}\n\n.copy-btn:hover {\n  color: var(--primary-color);\n}\n\n.status-badge {\n  padding: 0.25rem 0.5rem;\n  border-radius: var(--radius-sm);\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\n.status-badge.unused {\n  background: #E8F5E9;\n  color: #2E7D32;\n}\n\n.status-badge.used {\n  background: #FFEBEE;\n  color: #C62828;\n}\n\n.delete-btn {\n  padding: 0.5rem 1rem;\n  border: none;\n  border-radius: var(--radius);\n  background: #FEE2E2;\n  color: #DC2626;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.delete-btn:hover:not(:disabled) {\n  background: #FEE2E2;\n  transform: translateY(-1px);\n}\n\n.delete-btn:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n\n/* 移动端样式 */\n@media (max-width: 768px) {\n  .invite-codes {\n    padding: 1rem;\n  }\n\n  .generate-form {\n    padding: 1rem;\n  }\n\n  .mobile-cards {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .code-card {\n    background: white;\n    border-radius: var(--radius);\n    padding: 1rem;\n    box-shadow: var(--shadow-sm);\n  }\n\n  .card-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1rem;\n  }\n\n  .info-row {\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem 0;\n    border-bottom: 1px solid var(--border-color);\n  }\n\n  .info-row:last-child {\n    border-bottom: none;\n  }\n\n  .label {\n    color: var(--text-secondary);\n    font-size: 0.875rem;\n  }\n\n  .value {\n    color: var(--text-primary);\n    font-weight: 500;\n  }\n\n  .card-footer {\n    margin-top: 1rem;\n    display: flex;\n    justify-content: flex-end;\n  }\n}\n\n/* 空状态样式 */\n.empty-state {\n  text-align: center;\n  padding: 3rem;\n  color: var(--text-secondary);\n}\n\n.empty-state i {\n  font-size: 2rem;\n  margin-bottom: 1rem;\n}\n\n.empty-state p {\n  margin: 0;\n}\n\n/* 添加弹窗相关样式 */\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 1rem;\n  animation: fadeIn 0.2s ease;\n}\n\n.delete-modal {\n  background: white;\n  border-radius: var(--radius-lg);\n  width: 100%;\n  max-width: 400px;\n  animation: slideIn 0.3s ease;\n}\n\n.modal-header {\n  background: var(--danger-gradient);\n  padding: 1.25rem;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-top-left-radius: var(--radius-lg);\n  border-top-right-radius: var(--radius-lg);\n}\n\n.modal-header h3 {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n}\n\n.close-btn {\n  background: rgba(255, 255, 255, 0.1);\n  border: none;\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s;\n}\n\n.close-btn:hover {\n  background: rgba(255, 255, 255, 0.2);\n  transform: rotate(90deg);\n}\n\n.modal-content {\n  padding: 1.5rem;\n}\n\n.warning-text {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  color: #DC2626;\n  font-weight: 500;\n  margin-bottom: 0.75rem;\n}\n\n.warning-text i {\n  font-size: 1.5rem;\n}\n\n.sub-warning {\n  color: var(--text-secondary);\n  font-size: 0.875rem;\n  margin: 0;\n  padding-left: 2.25rem;\n}\n\n.modal-footer {\n  padding: 1.25rem;\n  background: #F9FAFB;\n  border-top: 1px solid var(--border-color);\n  display: flex;\n  justify-content: flex-end;\n  gap: 0.75rem;\n}\n\n.cancel-btn,\n.confirm-btn {\n  padding: 0.625rem 1.25rem;\n  border-radius: var(--radius);\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.cancel-btn {\n  background: white;\n  border: 1px solid var(--border-color);\n  color: var(--text-primary);\n}\n\n.cancel-btn:hover {\n  background: #F3F4F6;\n}\n\n.confirm-btn.danger {\n  background: var(--danger-gradient);\n  border: none;\n  color: white;\n}\n\n.confirm-btn.danger:hover:not(:disabled) {\n  transform: translateY(-1px);\n  box-shadow: 0 4px 12px rgba(220, 38, 38, 0.25);\n}\n\n.confirm-btn:disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n  transform: none !important;\n  box-shadow: none !important;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n@keyframes slideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n/* 移动端适配 */\n@media (max-width: 640px) {\n  .modal-overlay {\n    padding: 1rem;\n  }\n\n  .delete-modal {\n    width: 100%;\n  }\n\n  .modal-footer {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .cancel-btn,\n  .confirm-btn {\n    width: 100%;\n    justify-content: center;\n    padding: 0.75rem;\n  }\n}\n</style> ","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InviteCodes.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InviteCodes.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InviteCodes.vue?vue&type=template&id=92c124d4&scoped=true\"\nimport script from \"./InviteCodes.vue?vue&type=script&lang=js\"\nexport * from \"./InviteCodes.vue?vue&type=script&lang=js\"\nimport style0 from \"./InviteCodes.vue?vue&type=style&index=0&id=92c124d4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92c124d4\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InviteCodes.vue?vue&type=style&index=0&id=92c124d4&prod&scoped=true&lang=css\""],"sourceRoot":""}