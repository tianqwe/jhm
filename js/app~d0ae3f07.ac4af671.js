(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~d0ae3f07"],{0:function(e,t,s){e.exports=s("56d7")},"3dfd":function(e,t,s){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"global-notifications"},[t("transition-group",{attrs:{name:"notification"}},e._l(e.notifications,(function(s){return t("div",{key:s.id,staticClass:"notification-item",on:{click:function(t){return e.handleNotificationClick(s)}}},[t("div",{staticClass:"notification-content"},[t("i",{staticClass:"fas fa-comment"}),t("div",{staticClass:"notification-text"},[t("div",{staticClass:"notification-title"},[e._v("新消息提醒")]),t("div",{staticClass:"notification-message"},[e._v(" 订单 "+e._s(s.displayId)+": "+e._s(s.message)+" ")])]),t("button",{staticClass:"close-btn",on:{click:function(t){return t.stopPropagation(),e.removeNotification(s.id)}}},[t("i",{staticClass:"fas fa-times"})])])])})),0)],1),"blank"!==e.$route.meta.layout&&e.isLoggedIn?[t("header",{staticClass:"header"},[t("div",{staticClass:"header-container"},[t("div",{staticClass:"header-left"},[e.isMobile||!e.sidebarActive?t("button",{staticClass:"menu-toggle",on:{click:e.toggleSidebar}},[t("div",{staticClass:"hamburger-icon",class:{active:e.sidebarActive}},[t("span",{staticClass:"line line-1"}),t("span",{staticClass:"line line-2"}),t("span",{staticClass:"line line-3"})])]):e._e(),e._m(0)]),t("div",{staticClass:"header-right"},[e.isMobile?e._e():t("div",{staticClass:"user-info"},[e._m(1),t("div",{staticClass:"user-details"},[t("span",{staticClass:"username"},[e._v(e._s(e.currentUser))]),t("span",{staticClass:"role"},[e._v(e._s(e.userRoleText))])]),e._m(2),t("div",{staticClass:"user-dropdown"},[t("div",{staticClass:"dropdown-item",on:{click:e.handleLogout}},[t("i",{staticClass:"fas fa-sign-out-alt"}),t("span",[e._v("退出登录")])])])])])])]),t("div",{staticClass:"container",class:{"sidebar-collapsed":!e.sidebarActive}},[e.isMobile&&e.sidebarActive?t("div",{staticClass:"overlay",on:{click:e.closeSidebarOnMobile}}):e._e(),t("nav",{staticClass:"sidebar",class:{active:e.sidebarActive}},[t("div",{staticClass:"sidebar-content"},[t("ul",{staticClass:"nav-menu"},[e._l(e.filteredMenuItems,(function(s){return t("li",{key:s.name,staticClass:"nav-item",class:{active:e.$route.path===s.path||e.$route.path.startsWith(s.path+"/"),"has-children":s.children&&s.children.length>0}},[t("router-link",{staticClass:"nav-link",class:{"has-arrow":s.children&&s.children.length>0},attrs:{to:s.children&&0!==s.children.length?"":s.path},nativeOn:{click:function(t){return t.preventDefault(),e.handleMenuClick(s,t)}}},[t("div",{staticClass:"nav-icon"},[t("i",{class:s.icon})]),t("div",{staticClass:"nav-content"},[e.sidebarActive||e.isMobile?t("span",{staticClass:"nav-text"},[e._v(e._s(s.text))]):e._e(),s.badge&&(e.sidebarActive||e.isMobile)?t("span",{staticClass:"nav-badge"},[e._v(e._s(s.badge))]):e._e()]),s.children&&s.children.length>0&&e.sidebarActive?t("div",{staticClass:"submenu-arrow",class:{expanded:s.expanded}},[t("i",{staticClass:"fas fa-chevron-right"})]):e._e()]),t("transition",{attrs:{name:"submenu"}},[s.children&&s.children.length>0&&s.expanded?t("ul",{staticClass:"submenu"},e._l(s.children,(function(s){return t("li",{key:s.name,staticClass:"submenu-item",class:{active:e.$route.path===s.path}},[t("router-link",{staticClass:"submenu-link",attrs:{to:s.path},nativeOn:{click:function(t){return e.closeSidebarOnMobile.apply(null,arguments)}}},[t("i",{class:s.icon}),t("span",[e._v(e._s(s.text))])])],1)})),0):e._e()])],1)})),e.isMobile?t("li",{staticClass:"nav-item",on:{click:e.handleLogout}},[t("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._m(3),e._m(4)])]):e._e()],2)]),t("div",{staticClass:"sidebar-footer"},[e.isMobile?e._e():t("button",{staticClass:"collapse-btn",attrs:{title:e.sidebarActive?"收起菜单":"展开菜单"},on:{click:e.toggleSidebar}},[t("i",{class:e.sidebarActive?"fas fa-chevron-left":"fas fa-chevron-right"})])])]),t("main",{staticClass:"main-content"},[t("div",{staticClass:"content-wrapper"},[t("router-view")],1)]),e.showChatWidget?t("div",{staticClass:"chat-widget"},[t("div",{staticClass:"chat-trigger",class:{active:e.chatPanelOpen},on:{click:e.toggleChatPanel}},[t("div",{staticClass:"trigger-content"},[t("div",{staticClass:"trigger-icon"},[t("i",{staticClass:"fas fa-headset"}),e.unreadCount>0?t("span",{staticClass:"unread-badge"},[e._v(e._s(e.unreadCount))]):e._e()]),t("span",{staticClass:"trigger-text"},[e._v("在线客服")])])]),t("transition",{attrs:{name:"slide-up"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.chatPanelOpen,expression:"chatPanelOpen"}],staticClass:"chat-panel"},[t("div",{staticClass:"panel-header"},[t("div",{staticClass:"header-info"},[t("i",{staticClass:"fas fa-comments"}),t("div",{staticClass:"header-text"},[t("h3",[e._v("客户消息")]),t("span",{staticClass:"header-subtitle"},[e._v(e._s(e.activeOrders.length)+"个待处理订单")])])]),t("div",{staticClass:"header-actions"},[t("button",{staticClass:"action-btn",attrs:{title:"刷新"},on:{click:e.refreshOrders}},[t("i",{staticClass:"fas fa-sync-alt"})]),t("button",{staticClass:"action-btn",attrs:{title:"最小化"},on:{click:e.toggleChatPanel}},[t("i",{staticClass:"fas fa-minus"})])])]),t("div",{staticClass:"panel-content"},[t("div",{staticClass:"orders-list custom-scrollbar"},e._l(e.activeOrders,(function(s){var i;return t("div",{key:s.orderId,staticClass:"order-card",class:{active:(null===(i=e.selectedOrder)||void 0===i?void 0:i.orderId)===s.orderId,"has-unread":s.unreadCount>0},on:{click:function(t){return e.selectOrder(s)}}},[t("div",{staticClass:"order-main"},[t("div",{staticClass:"order-header"},[t("span",{staticClass:"order-id"},[e._v("#"+e._s(s.orderId.slice(-8)))]),t("span",{staticClass:"order-amount"},[e._v("¥"+e._s(e.formatAmount(s.amount)))])]),t("div",{staticClass:"order-footer"},[t("span",{staticClass:"order-time"},[t("i",{staticClass:"far fa-clock"}),e._v(" "+e._s(e.formatTime(s.createdAt))+" ")]),s.unreadCount?t("span",{staticClass:"unread-count"},[e._v(e._s(s.unreadCount)+"条新消息")]):e._e()])])])})),0),e.selectedOrder?t("div",{staticClass:"chat-area"},[t("div",{ref:"messagesContainer",staticClass:"chat-messages custom-scrollbar"},e._l(e.messages,(function(s){return t("div",{key:s._id,staticClass:"message",class:"merchant"===s.sender?"sent":"received"},[t("div",{staticClass:"message-bubble"},[t("div",{staticClass:"message-content"},[e._v(e._s(s.content))]),t("div",{staticClass:"message-time"},[e._v(e._s(e.formatTime(s.createdAt)))])])])})),0),t("div",{staticClass:"chat-composer"},[t("div",{staticClass:"composer-tools"},[t("button",{staticClass:"tool-btn",attrs:{title:"表情"}},[t("i",{staticClass:"far fa-smile"})]),t("button",{staticClass:"tool-btn",attrs:{title:"图片"}},[t("i",{staticClass:"far fa-image"})])]),t("div",{staticClass:"composer-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],attrs:{placeholder:"输入消息..."},domProps:{value:e.newMessage},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sendMessage.apply(null,arguments)},input:function(t){t.target.composing||(e.newMessage=t.target.value)}}}),t("button",{staticClass:"send-btn",attrs:{disabled:!e.newMessage.trim()},on:{click:e.sendMessage}},[t("i",{staticClass:"fas fa-paper-plane"})])])])]):t("div",{staticClass:"empty-state"},[t("div",{staticClass:"empty-icon"},[t("i",{staticClass:"fas fa-comments"})]),t("h3",[e._v("选择订单开始对话")]),t("p",[e._v("点击左侧订单列表开始沟通")])])])])])],1):e._e()])]:t("router-view"),e.isLoggedIn?t("GlobalMessageListener"):e._e()],2)},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"site-title"},[t("div",{staticClass:"site-logo"},[t("i",{staticClass:"fas fa-random"})]),t("h1",{staticClass:"site-text"},[e._v("通道市场管理系统")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"avatar"},[t("i",{staticClass:"fas fa-user"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"dropdown-icon"},[t("i",{staticClass:"fas fa-chevron-down"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"nav-icon"},[t("i",{staticClass:"fas fa-sign-out-alt"})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"nav-content"},[t("span",{staticClass:"nav-text"},[e._v("退出登录")])])}],n=(s("14d9"),s("1e70"),s("79a4"),s("c1a1"),s("8b00"),s("a4e7"),s("1e5a"),s("72c3"),s("0643"),s("2382"),s("4e3e"),s("a573"),s("9a9a"),s("0c12")),o=s("4e93"),r={name:"App",components:{GlobalMessageListener:o["a"]},data(){return{menuItems:[{name:"channel-market",text:"通道市场",path:"/channel-market",icon:"fas fa-random",roles:["user","admin","superadmin"],expanded:!1},{name:"order-query",text:"订单查询",path:"/order-query",icon:"fas fa-search",roles:["user","admin","superadmin"],expanded:!1},{name:"balance-change",text:"余额变动",path:"/balance-change",icon:"fas fa-wallet",roles:["user","admin","superadmin"],expanded:!1},{name:"tool-download",text:"抓包工具",path:"/tool-download",icon:"fas fa-download",roles:["user","admin","superadmin"],expanded:!1},{name:"toolbox",text:"工具箱",path:"#",icon:"fas fa-tools",roles:["user","admin","superadmin"],expanded:!1,children:[{name:"sdk-to-direct-pay",text:"SDK转直付",path:"/toolbox/sdk-to-direct-pay",icon:"fab fa-alipay",roles:["user","admin","superadmin"]}]},{name:"admin",text:"系统管理",path:"#",icon:"fas fa-cogs",roles:["superadmin"],expanded:!1,children:[{name:"user-management",text:"用户管理",path:"/user-management",icon:"fas fa-users-cog",roles:["superadmin"]},{name:"recharge-cards",text:"卡密管理",path:"/recharge-cards",icon:"fas fa-ticket-alt",roles:["superadmin"]},{name:"generate-cards",text:"卡密生成",path:"/generate-cards",icon:"fas fa-plus-circle",roles:["superadmin"]},{name:"invite-codes",text:"邀请码管理",path:"/invite-codes",icon:"fas fa-user-plus",roles:["superadmin"]},{name:"domain-management",text:"域名管理",path:"/domain-management",icon:"fas fa-globe",roles:["superadmin"]}]}],sidebarActive:!1,isMobile:!1,currentUserId:null,userRole:localStorage.getItem("userRole"),isLoggedIn:"true"===localStorage.getItem("isLoggedIn"),currentUser:localStorage.getItem("username")||"未登录",showChatWidget:!1,chatPanelOpen:!1,activeOrders:[],selectedOrder:null,messages:[],newMessage:"",unreadCount:0,messageSubscriptions:new Set,currentOrderId:null,notifications:[],notificationAudio:null,activeNotifications:[],chatMessages:new Map,processedMessageIds:new Set,notificationSound:null}},computed:{filteredMenuItems(){const e=this.userRole||localStorage.getItem("userRole");return e?this.menuItems.filter(t=>t.roles&&t.roles.includes(e)):[]},userRoleText(){const e=this.userRole||localStorage.getItem("userRole");switch(e){case"superadmin":return"超级管理员";case"admin":return"管理员";case"user":return"普通用户";default:return"未知角色"}}},methods:{handleMenuClick(e,t){if(!this.sidebarActive){if(t.preventDefault(),e.children&&e.children.length>0)return;return e.path&&"#"!==e.path&&this.$router.push(e.path),void(this.isMobile&&this.closeSidebarOnMobile())}if(e.children&&e.children.length>0){t.preventDefault();const s=e.expanded;this.menuItems.forEach(e=>{e.expanded=!1}),e.expanded=!s}else this.closeSidebarOnMobile()},handleLoginStateChange(e){this.isLoggedIn=e,e?(this.currentUser=localStorage.getItem("username")||"未登录",this.userRole=localStorage.getItem("userRole"),this.currentUserId=localStorage.getItem("currentUserId"),this.sidebarActive=!this.isMobile,this.$nextTick(()=>{this.menuItems=[...this.menuItems]})):(this.currentUser="未登录",this.userRole=null,this.currentUserId=null,this.sidebarActive=!1,this.menuItems=[...this.menuItems])},initializeLoginState(){const e="true"===localStorage.getItem("isLoggedIn");e&&this.handleLoginStateChange(!0)},async handleLogout(){localStorage.removeItem("isLoggedIn"),localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("userRole"),localStorage.removeItem("currentUserId"),this.isLoggedIn=!1,this.currentUser="未登录",this.userRole=null,this.currentUserId=null,this.sidebarActive=!1,this.$socket&&(this.$socket.off("merchantMessage"),this.$socket.off("newOrder"),this.$socket.off("newMessage"),this.$socket.off("chat:message"),this.$socket.disconnect()),this.notifications=[],this.activeOrders=[],this.messages=[],this.chatMessages=new Map,this.processedMessageIds=new Set,this.$nextTick(()=>{this.menuItems=[...this.menuItems]}),n["a"].$emit("login-state-changed",!1),await this.$router.replace("/")},toggleSidebar(){this.sidebarActive?(document.body.classList.add("sidebar-collapsing"),setTimeout(()=>{this.sidebarActive=!1,setTimeout(()=>{document.body.classList.remove("sidebar-collapsing")},300)},10)):this.sidebarActive=!0},closeSidebarOnMobile(){this.isMobile&&(this.sidebarActive=!1)},handleResize(){const e=!this.isMobile;this.isMobile=window.innerWidth<=768,this.isMobile||!1!==e||(this.sidebarActive=!0),this.isMobile&&!this.sidebarActive&&(this.sidebarActive=!1)},toggleChatPanel(){this.chatPanelOpen=!this.chatPanelOpen,this.chatPanelOpen&&this.loadActiveOrders()},async loadActiveOrders(){try{const e=await this.$api.get("/orders",{params:{status:"pending",limit:50}});this.activeOrders=e.data.orders}catch(e){console.error("Load orders error:",e)}},async selectOrder(e){this.selectedOrder=e,this.chatMessages.has(e.orderId)||this.chatMessages.set(e.orderId,[]);try{const t=await this.$api.get("/messages/"+e.orderId),s=t.data;s.forEach(t=>{this.processedMessageIds.has(t._id)||(this.processedMessageIds.add(t._id),this.chatMessages.get(e.orderId).push(t))});const i=this.activeOrders.findIndex(t=>t.orderId===e.orderId);-1!==i&&this.$set(this.activeOrders[i],"unreadCount",0),this.initOrderSocket(e.orderId)}catch(t){console.error("Load messages error:",t),this.$message.error("加载消息失败")}},handleNewMessage(e){const t=this.messages.some(t=>t._id===e._id||t.content===e.content&&t.sender===e.sender&&Math.abs(new Date(t.createdAt)-new Date(e.createdAt))<1e3);t||(this.messages.push(e),this.$nextTick(()=>{this.scrollToBottom()}))},async sendMessage(){if(!this.newMessage.trim()||!this.selectedOrder)return;const e=this.newMessage;this.newMessage="";try{const t=localStorage.getItem("currentUserId"),s=await this.$api.post("/messages/"+this.selectedOrder.orderId,{content:e.trim(),sender:"merchant",userId:t});this.handleNewOrderMessage(this.selectedOrder.orderId,s.data)}catch(t){console.error("Send message error:",t),this.$message.error("发送消息失败"),this.newMessage=e}},scrollToBottom(){const e=this.$refs.messagesContainer;e&&(e.scrollTop=e.scrollHeight)},formatAmount(e){return parseFloat(e||0).toFixed(2)},formatTime(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},formatDate(e){return new Date(e).toLocaleDateString()},setupWebSocket(){if(this.$socket){this.$socket.connect(),this.$socket.off("merchantMessage"),this.$socket.on("merchantMessage",e=>{const t=localStorage.getItem("currentUserId"),s=localStorage.getItem("userRole"),i=e.orderUserId===t,a="superadmin"===s;(a||i)&&(this.addNotification({orderId:e.orderId,message:e.message.content}),this.showBrowserNotification(e.orderId,e.message.content))});const e=localStorage.getItem("currentUserId");e&&this.$socket.emit("join-chat",{userId:e})}},closeChatWidget(){this.showChatWidget=!1,localStorage.removeItem("showChatWidget")},async fetchActiveOrders(){try{const e=await this.$api.get("/orders/active");this.activeOrders=e.data.map(e=>({...e,unreadCount:0})),this.setupOrderMessageListeners()}catch(e){console.error("获取活跃订单失败:",e)}},setupOrderMessageListeners(){this.activeOrders&&this.activeOrders.forEach(e=>{this.$socket.off("chat:"+e.orderId)}),this.activeOrders.forEach(e=>{this.$socket.on("chat:"+e.orderId,t=>{if("user"===t.sender){this.playNotificationSound();const s=this.activeOrders.findIndex(t=>t.orderId===e.orderId);-1!==s&&this.activeOrders[s].unreadCount++,this.addNotification({id:Date.now(),orderId:e.orderId,message:t.content,timestamp:new Date}),this.showBrowserNotification(e.orderId,t.content)}})})},playNotificationSound(){this.notificationSound&&(this.notificationSound.currentTime=0,this.notificationSound.play().catch(e=>{console.warn("Failed to play notification sound:",e)}))},showBrowserNotification(e,t){if("granted"===Notification.permission){const s=new Notification("新的客服消息",{body:`订单 ${e}: ${t}`,icon:"/favicon.ico",tag:e,requireInteraction:!0});s.onclick=()=>{window.focus(),this.$router.push("/order-query?orderId="+e),s.close()}}},refreshOrders(){this.fetchActiveOrders()},initializeSocket(){this.$socket&&(this.notificationAudio||(this.notificationAudio=new Audio("/notification.mp3"),this.notificationAudio.load()),this.$socket.on("newOrder",e=>{this.setupOrderListener(e.orderId)}),this.$socket.on("newMessage",e=>{"user"===e.sender&&(this.playNotificationSound(),this.addNotification({id:Date.now(),orderId:e.orderId,message:e.content,timestamp:new Date}))}),this.$socket.on("chat:message",({orderId:e,message:t})=>{"user"===t.sender&&(this.playNotificationSound(),this.addNotification({id:Date.now(),orderId:e,message:t.content,timestamp:new Date}))}))},setupOrderListener(e){e&&this.$socket.emit("join-chat",e)},showNotification(e,t){if("granted"===Notification.permission){const s=new Notification("新的客服消息",{body:`订单 ${e}: ${t}`,icon:"/logo.png",tag:e,requireInteraction:!0,silent:!1});s.onclick=()=>{this.$router.push({path:"/order-query",query:{openChat:e}}),window.focus(),s.close()}}else"denied"!==Notification.permission&&Notification.requestPermission().then(s=>{"granted"===s&&this.showNotification(e,t)})},addNotification(e){this.notifications.unshift({id:Date.now(),orderId:e.orderId,displayId:e.orderId.slice(-8),message:e.message,timestamp:new Date}),this.notifications.length>5&&this.notifications.pop(),this.playNotificationSound(),this.showBrowserNotification(e.orderId,e.message),setTimeout(()=>{this.removeNotification(this.notifications[0].id)},5e3)},handleNotificationClick(e){this.$router.push("/order-query?orderId="+e.orderId),this.removeNotification(e.id)},removeNotification(e){const t=this.notifications.findIndex(t=>t.id===e);-1!==t&&this.notifications.splice(t,1)},requestNotificationPermission(){"granted"!==Notification.permission&&"denied"!==Notification.permission&&Notification.requestPermission()},initOrderSocket(e){if(!this.$socket)return;const t=localStorage.getItem("currentUserId");this.$socket.emit("join-chat",{orderId:e,userId:t}),this.$socket.off("chat:"+e),this.$socket.on("chat:"+e,t=>{this.handleNewOrderMessage(e,t)})},handleNewOrderMessage(e,t){if(!this.processedMessageIds.has(t._id)){var s;this.processedMessageIds.add(t._id),this.chatMessages.has(e)||this.chatMessages.set(e,[]);const i=[...this.chatMessages.get(e)];if(i.push(t),i.sort((e,t)=>new Date(e.createdAt)-new Date(t.createdAt)),this.$set(this.chatMessages,e,i),(null===(s=this.selectedOrder)||void 0===s?void 0:s.orderId)!==e){const t=this.activeOrders.findIndex(t=>t.orderId===e);if(-1!==t){const e={...this.activeOrders[t]};e.unreadCount=(e.unreadCount||0)+1,this.$set(this.activeOrders,t,e)}}this.$nextTick(()=>{this.scrollToBottom()})}},handleGlobalMessage(e){const{orderId:t,message:s,isOwner:i}=e;(i||"superadmin"===this.userRole)&&this.showGlobalNotification(t,s)},showGlobalNotification(e,t){const s=e.slice(-8),i={id:Date.now(),orderId:e,displayId:s,message:t};this.notifications.push(i),setTimeout(()=>{this.removeGlobalNotification(i.id)},3e3)},removeGlobalNotification(e){const t=this.notifications.findIndex(t=>t.id===e);-1!==t&&this.notifications.splice(t,1)},handleGlobalNotificationClick(e){this.$router.push("/order-query?orderId="+e.orderId),this.removeGlobalNotification(e.id)},updateCurrentUser(){const e="true"===localStorage.getItem("isLoggedIn"),t=localStorage.getItem("username"),s=localStorage.getItem("userRole"),i=localStorage.getItem("currentUserId");this.isLoggedIn=e,this.currentUser=t||"未登录",this.userRole=s,this.currentUserId=i,!this.isMobile&&e&&(this.sidebarActive=!0),!e||this.$socket&&this.$socket.connected||this.setupWebSocket()},cleanupSocket(){this.$socket&&(this.$socket.removeAllListeners(),this.$socket.disconnect())},initNotificationSound(){this.notificationSound=new Audio("/notification.mp3"),this.notificationSound.load()}},created(){this.initializeLoginState(),n["a"].$on("login-state-changed",e=>{this.handleLoginStateChange(e)})},mounted(){this.handleResize(),window.addEventListener("resize",this.handleResize),this.$nextTick(()=>{this.isLoggedIn&&this.handleLoginStateChange(!0)}),this.initNotificationSound(),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},beforeDestroy(){window.removeEventListener("resize",this.handleResize),n["a"].$off("user-logged-in"),n["a"].$off("login-state-changed"),this.cleanupSocket()},watch:{$route:{handler(){const e="true"===localStorage.getItem("isLoggedIn"),t=localStorage.getItem("userRole");this.userRole!==t&&(this.userRole=t,this.$nextTick(()=>{this.menuItems=[...this.menuItems]})),this.isLoggedIn=e,this.currentUser=localStorage.getItem("username")||"未登录",this.currentUserId=localStorage.getItem("currentUserId")},immediate:!0}}},c=r,d=(s("b5f7"),s("2877")),l=Object(d["a"])(c,i,a,!1,null,"57f65ed8",null);t["a"]=l.exports},af9a:function(e,t,s){},b5f7:function(e,t,s){"use strict";s("af9a")}}]);
//# sourceMappingURL=app~d0ae3f07.ac4af671.js.map